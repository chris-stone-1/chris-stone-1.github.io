
<!DOCTYPE html>
<html>

<head>

<script>
window['adrum-start-time'] = new Date().getTime();
(function(config){
    config.appKey = 'AD-AAB-HCH-DWG';
    config.adrumExtUrlHttp = 'http://cdn.appdynamics.com';
    config.adrumExtUrlHttps = 'https://cdn.appdynamics.com';
    config.beaconUrlHttp = 'http://col.eum-appdynamics.com';
    config.beaconUrlHttps = 'https://col.eum-appdynamics.com';
    config.xd = {enable : false};
})(window['adrum-config'] || (window['adrum-config'] = {}));
</script>
<script src='https://cdn.appdynamics.com/adrum/adrum-latest.js'></script>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/heatmap.js"></script>
<script src="https://code.highcharts.com/modules/treemap.js"></script>
<script src="https://code.highcharts.com/modules/wordcloud.js"></script>
<script src="https://code.highcharts.com/modules/funnel.js"></script>



<div id="TodayLine" style="position:absolute;top:30px; left:34px;width:0px;height:160px;border:6px solid #d4a8e7;"></div>
<span id="TodayHeader" style="position: absolute;top: 120px; width:20px; left: 20px;transform: rotate(-90deg); font-weight: bold;  font-size: 25px;  font-family: Calibri;"">Today</span>

<div id="MonthLine" style="position:absolute;top:282px; left:34px;width:0px;height:160px;border:6px solid #a8d6e7;"></div>
<span id="MonthHeader" style="position: absolute;top: 272px; width:150px; height:160px; left: 20px;transform: rotate(-90deg); font-weight: bold;  font-size: 25px;  font-family: Calibri;"">This Month</span>

<div id="YearLine" style="position:absolute;top:534px; left:34px;width:0px;height:160px;border:6px solid #6ab25f;"></div>
<span id="YearHeader" style="position: absolute;top: 520px; width:200px; height:160px; left: -6px;transform: rotate(-90deg); font-weight: bold;  font-size: 25px;  font-family: Calibri;"">Last 18 Months</span>

<div id="currentMonth" class="hide"></div>
<div id="currentMonthYear" class="hide"></div>

<!--Visits Today-->

<div id="VisitsTodayContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="VisitsTodayContainerHide" style="width: 300px; height: 200px; position: absolute; left: 70px; top: 20px; margin: 0 auto"></div>
<div id="VisitsTodayContainerClick" onclick="showVisitsTodayChart();" style="width: 300px; height: 200px;position: absolute; left: 70px; top: 20px; margin: 0 auto"></div>

<div id="visitsTodayTodayData" class="hide"></div>
<div id="visitsTodayYesterdayData" class="hide"></div>
<div id="visitsTodayTodayTotal" class="hide"></div>
<div id="visitsTodayYesterdayTotal" class="hide"></div>


<!--Dealer Pages Today-->

<div id="DealerPageViewsContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="DealerPageViewsContainerHide" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 20px; margin: 0 auto"></div>
<div id="DealerPageViewsContainerClick" onclick="showDealerPageViewsChart();" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 20px; margin: 0 auto"></div>

<div id="dealerpagename1" class="hide"></div><div id="dealerpagename2" class="hide"></div><div id="dealerpagename3" class="hide"></div><div id="dealerpagename4" class="hide"></div>
<div id="dealerpagename5" class="hide"></div><div id="dealerpagename6" class="hide"></div><div id="dealerpagename7" class="hide"></div><div id="dealerpagename8" class="hide"></div>
<div id="dealerpagename9" class="hide"></div><div id="dealerpagename10" class="hide"></div><div id="dealerpagename11" class="hide"></div><div id="dealerpagename12" class="hide"></div>
<div id="dealerpagename13" class="hide"></div><div id="dealerpagename14" class="hide"></div><div id="dealerpagename15" class="hide"></div>

<div id="dealerpagedata1" class="hide"></div><div id="dealerpagedata2" class="hide"></div><div id="dealerpagedata3" class="hide"></div><div id="dealerpagedata4" class="hide"></div>
<div id="dealerpagedata5" class="hide"></div><div id="dealerpagedata6" class="hide"></div><div id="dealerpagedata7" class="hide"></div><div id="dealerpagedata8" class="hide"></div>
<div id="dealerpagedata9" class="hide"></div><div id="dealerpagedata10" class="hide"></div><div id="dealerpagedata11" class="hide"></div><div id="dealerpagedata12" class="hide"></div>
<div id="dealerpagedata13" class="hide"></div><div id="dealerpagedata14" class="hide"></div><div id="dealerpagedata15" class="hide"></div>


<!--On Site Search WordCloud-->

<div id="SiteSearchContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="SiteSearchContainerHide" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 20px; margin: 0 auto"></div>
<div id="SiteSearchContainerClick" onclick="showSiteSearchChart();" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 20px; margin: 0 auto"></div>

<div id="ossdata1" class="hide"></div><div id="ossdata2" class="hide"></div><div id="ossdata3" class="hide"></div><div id="ossdata4" class="hide"></div>
<div id="ossdata5" class="hide"></div><div id="ossdata6" class="hide"></div><div id="ossdata7" class="hide"></div><div id="ossdata8" class="hide"></div>
<div id="ossdata9" class="hide"></div><div id="ossdata10" class="hide"></div><div id="ossdata11" class="hide"></div><div id="ossdata12" class="hide"></div>
<div id="ossdata13" class="hide"></div><div id="ossdata14" class="hide"></div><div id="ossdata15" class="hide"></div><div id="ossdata16" class="hide"></div>
<div id="ossdata17" class="hide"></div><div id="ossdata18" class="hide"></div><div id="ossdata19" class="hide"></div><div id="ossdata20" class="hide"></div>
<div id="ossdata21" class="hide"></div><div id="ossdata22" class="hide"></div><div id="ossdata23" class="hide"></div><div id="ossdata24" class="hide"></div>
<div id="ossdata25" class="hide"></div><div id="ossdata26" class="hide"></div><div id="ossdata27" class="hide"></div><div id="ossdata28" class="hide"></div>
<div id="ossdata29" class="hide"></div><div id="ossdata30" class="hide"></div><div id="ossdata31" class="hide"></div><div id="ossdata32" class="hide"></div>
<div id="ossdata33" class="hide"></div><div id="ossdata34" class="hide"></div><div id="ossdata35" class="hide"></div><div id="ossdata36" class="hide"></div>
<div id="ossdata37" class="hide"></div><div id="ossdata38" class="hide"></div><div id="ossdata39" class="hide"></div><div id="ossdata40" class="hide"></div>
<div id="ossdata41" class="hide"></div><div id="ossdata42" class="hide"></div><div id="ossdata43" class="hide"></div><div id="ossdata44" class="hide"></div>
<div id="ossdata45" class="hide"></div><div id="ossdata46" class="hide"></div><div id="ossdata47" class="hide"></div><div id="ossdata48" class="hide"></div>
<div id="ossdata49" class="hide"></div><div id="ossdata50" class="hide"></div><div id="ossdata51" class="hide"></div><div id="ossdata52" class="hide"></div>
<div id="ossdata53" class="hide"></div><div id="ossdata54" class="hide"></div><div id="ossdata55" class="hide"></div><div id="ossdata56" class="hide"></div>

<div id="ossword1" class="hide"></div><div id="ossword2" class="hide"></div><div id="ossword3" class="hide"></div><div id="ossword4" class="hide"></div>
<div id="ossword5" class="hide"></div><div id="ossword6" class="hide"></div><div id="ossword7" class="hide"></div><div id="ossword8" class="hide"></div>
<div id="ossword9" class="hide"></div><div id="ossword10" class="hide"></div><div id="ossword11" class="hide"></div><div id="ossword12" class="hide"></div>
<div id="ossword13" class="hide"></div><div id="ossword14" class="hide"></div><div id="ossword15" class="hide"></div><div id="ossword16" class="hide"></div>
<div id="ossword17" class="hide"></div><div id="ossword18" class="hide"></div><div id="ossword19" class="hide"></div><div id="ossword20" class="hide"></div>
<div id="ossword21" class="hide"></div><div id="ossword22" class="hide"></div><div id="ossword23" class="hide"></div><div id="ossword24" class="hide"></div>
<div id="ossword25" class="hide"></div><div id="ossword26" class="hide"></div><div id="ossword27" class="hide"></div><div id="ossword28" class="hide"></div>
<div id="ossword29" class="hide"></div><div id="ossword30" class="hide"></div><div id="ossword31" class="hide"></div><div id="ossword32" class="hide"></div>
<div id="ossword33" class="hide"></div><div id="ossword34" class="hide"></div><div id="ossword35" class="hide"></div><div id="ossword36" class="hide"></div>
<div id="ossword37" class="hide"></div><div id="ossword38" class="hide"></div><div id="ossword39" class="hide"></div><div id="ossword40" class="hide"></div>
<div id="ossword41" class="hide"></div><div id="ossword42" class="hide"></div><div id="ossword43" class="hide"></div><div id="ossword44" class="hide"></div>
<div id="ossword45" class="hide"></div><div id="ossword46" class="hide"></div><div id="ossword47" class="hide"></div><div id="ossword48" class="hide"></div>
<div id="ossword49" class="hide"></div><div id="ossword50" class="hide"></div><div id="ossword51" class="hide"></div><div id="ossword52" class="hide"></div>
<div id="ossword53" class="hide"></div><div id="ossword54" class="hide"></div><div id="ossword55" class="hide"></div><div id="ossword56" class="hide"></div>


<!-- OCF Daily Dashboard -->

<div id="OCFContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="OCFContainerHide" style="width: 300px; height: 200px; position: absolute; left: 1050px; top: 20px; margin: 0 auto"></div>
<div id="OCFContainerClick" onclick="showOCFChart();" style="width: 300px; height: 200px; position: absolute; left: 1050px; top: 20px; margin: 0 auto"></div>


<div id="OCFlloydsData" class="hide"></div>
<div id="OCFhalifaxData" class="hide"></div>
<div id="OCFbosData" class="hide"></div>
<div id="OCFjaguarData" class="hide"></div>
<div id="OCFlandroverData" class="hide"></div>
<div id="OCFmitsubishiData" class="hide"></div>
<div id="OCFsuzukiData" class="hide"></div>
<div id="OCFimfData" class="hide"></div>
<div id="OCFshogunData" class="hide"></div>


<!--UpTrends Dashboard-->

<span id="UpTrendsHeaderText" style="position: absolute;top: 10px;  left: 600px;  font-weight: bold;  font-size: 35px;  font-family: Calibri;">Website & API Status</span>

<span id="APIHeaderText" style="position: absolute;top: 65px;  left: 255px;  font-weight: bold;  font-size: 25px;  font-family: Calibri;">APIs</span>
<table id="APITable" style="font-family: arial, sans-serif;border-collapse: collapse;width: 400px;position: absolute;top: 110px;left: 100px;padding: 8px;font-size: 20px;  font-family: Calibri;">
  <tr><td id="apierror1" style="padding:12px"><img id="apierrorimage1" src="#" height=40 width=40></img></td><td>GET GFV</td></tr>
  <tr><td id="apierror2" style="padding:12px"><img id="apierrorimage2" src="#" height=40 width=40></img></td><td>POST Customers</td></tr>
  <tr><td id="apierror3" style="padding:12px"><img id="apierrorimage3" src="#" height=40 width=40></img></td><td>Settlement</td></tr>
  <tr><td id="apierror4" style="padding:12px"><img id="apierrorimage4" src="#" height=40 width=40></img></td><td>CUAT Tests</td></tr>
</table>

<span id="LexHeaderText" style="  position: absolute;  top: 65px;  left: 680px;  font-weight: bold;  font-size: 25px;  font-family: Calibri;">Lex Autolease</span>
<table id="LexTable" style="    font-family: arial, sans-serif;border-collapse: collapse;    width: 400px;    position: absolute;    top: 110px;    left: 550px;padding: 8px;font-size: 20px;  font-family: Calibri;">
  <tr><td id="lexerror1" style="padding:12px"><img id="lexerrorimage1" src="#" height=40 width=40></img></td><td>www.lexautolease.co.uk</td></tr>
  <tr><td id="lexerror2" style="padding:12px"><img id="lexerrorimage2" src="#" height=40 width=40></img></td><td>quotes.lexautolease.co.uk</td></tr>
  <tr><td id="lexerror3" style="padding:12px"><img id="lexerrorimage3" src="#" height=40 width=40></img></td><td>driver.lexautolease.co.uk</td></tr>
  <tr><td id="lexerror4" style="padding:12px"><img id="lexerrorimage4" src="#" height=40 width=40></img></td><td>www.lexautoleaseinteractive.co.uk</td></tr>
  <tr><td id="lexerror5" style="padding:12px"><img id="lexerrorimage5" src="#" height=40 width=40></img></td><td>supplier.lexautolease.co.uk</td></tr>
  <tr><td id="lexerror6" style="padding:12px"><img id="lexerrorimage6" src="#" height=40 width=40></img></td><td>associate.lexautolease.co.uk</td></tr>
</table>

<span id="BHHeaderText" style="  position: absolute;  top: 65px;  left: 1140px;  font-weight: bold;  font-size: 25px;  font-family: Calibri;">Black Horse</span>
<table id="BHTable" style="    font-family: arial, sans-serif;    border-collapse: collapse;    width: 400px;    position: absolute;    top: 110px;    left: 1000px;padding: 8px;font-size: 20px;  font-family: Calibri;">
  <tr><td id="bherror1" style="padding:12px"><img id="bherrorimage1" src="#" height=40 width=40></img></td><td>www.blackhorse.co.uk</td></tr>
  <tr><td id="bherror2" style="padding:12px"><img id="bherrorimage2" src="#" height=40 width=40></img></td><td>customerportal.blackhorse.co.uk</td></tr>
  <tr><td id="bherror3" style="padding:12px"><img id="bherrorimage3" src="#" height=40 width=40></img></td><td>www.blackhorseoffshore.co.uk</td></tr>
  <tr><td id="bherror4" style="padding:12px"><img id="bherrorimage4" src="#" height=40 width=40></img></td><td>www.equips.co.uk</td></tr>
  <tr><td id="bherror5" style="padding:12px"><img id="bherrorimage5" src="#" height=40 width=40></img></td><td>www.letsuconnect.co.uk</td></tr>
  <tr><td id="bherror6" style="padding:12px"><img id="bherrorimage6" src="#" height=40 width=40></img></td><td>www.blackhorselogo.co.uk</td></tr>
</table>


<!--To add new Monitor, add in table above and table below, use the name you want to appear on the dashboards in the table. Mimic a line as below with the value of the name used in UpTrends. Add new rows in 1800-2100-->

<div class="hide" id="apimonitor1">API PROD - GFV</div><div class="hide" id="apiguid1"></div>
<div class="hide" id="apimonitor2">API PROD - Post Customers</div><div class="hide" id="apiguid2"></div>
<div class="hide" id="apimonitor3">API PROD - Settlement</div><div class="hide" id="apiguid3"></div>
<div class="hide" id="apimonitor4">API TEST - CUAT General tests</div><div class="hide" id="apiguid4"></div>

<div class="hide" id="lexmonitor1">www.lexautolease.co.uk</div><div class="hide" id="lexguid1"></div>
<div class="hide" id="lexmonitor2">quotes.lexautolease.co.uk</div><div class="hide" id="lexguid2"></div>
<div class="hide" id="lexmonitor3">driver.lexautolease.co.uk</div><div class="hide" id="lexguid3"></div>
<div class="hide" id="lexmonitor4">www.lexautoleaseinteractive.co.uk</div><div class="hide" id="lexguid4"></div>
<div class="hide" id="lexmonitor5">supplier.lexautolease.co.uk</div><div class="hide" id="lexguid5"></div>
<div class="hide" id="lexmonitor6">associate.lexautolease.co.uk</div><div class="hide" id="lexguid6"></div>

<div class="hide" id="bhmonitor1">www.blackhorse.co.uk</div><div class="hide" id="bhguid1"></div>
<div class="hide" id="bhmonitor2">customerportal.blackhorse.co.uk</div><div class="hide" id="bhguid2"></div>
<div class="hide" id="bhmonitor3">www.blackhorseoffshore.co.uk</div><div class="hide" id="bhguid3"></div>
<div class="hide" id="bhmonitor4">https://www.equips.co.uk/</div><div class="hide" id="bhguid4"></div>
<div class="hide" id="bhmonitor5">www.letsuconnect.co.uk</div><div class="hide" id="bhguid5"></div>
<div class="hide" id="bhmonitor6">www.blackhorselogo.co.uk</div><div class="hide" id="bhguid6"></div>


<!--UpTrends mini Container-->

<span id="UpTrendsDashboardHeader" style="position: absolute;top: 28px;  left: 1470px; display:none; font-size: 18px;  width:200px; font-family: Calibri;"">Website & API Status</span>

<span id="APIHeaderText2" style="position: absolute;top: 70px;  left: 1440px;  display:none; width: 80px; font-weight: bold;  font-size: 10px;  font-family: Calibri;"">APIs</span>
<table id="APITable2" style="font-family: arial, sans-serif; font-size:4px; display:none; border-collapse: collapse;width: 80px;position: absolute;top: 90px;left: 1410px; padding: 4px;">
  <tr></td><td id="apierror12" style="padding:3px"><img id="apierrorimage12" src="#" height=10 width=10></img></td><td width=75>GET GFV</td></tr>
  <tr></td><td id="apierror22" style="padding:3px"><img id="apierrorimage22" src="#" height=10 width=10></img></td><td width=75>POST Customers</td></tr>
  <tr></td><td id="apierror32" style="padding:3px"><img id="apierrorimage32" src="#" height=10 width=10></img></td><td width=75>Settlement</td></tr>
  <tr></td><td id="apierror42" style="padding:3px"><img id="apierrorimage42" src="#" height=10 width=10></img></td><td width=75>CUAT Tests</td></tr>
</table>

<span id="LexHeaderText2" style="  position: absolute;  top: 70px;  left: 1510px; width: 80px; display:none; font-weight: bold;  font-size: 10px;  font-family: Calibri;">Lex Autolease</span>
<table id="LexTable2" style="    font-family: arial, sans-serif; font-size:4px; border-collapse: collapse;display:none; width: 80px;position: absolute;top: 90px;left: 1500px; padding: 4px;">
  <tr></td><td id="lexerror12" style="padding:3px"><img id="lexerrorimage12" src="#" height=10 width=10></img></td><td width=75>www.lexautolease.co.uk</td></tr>
  <tr></td><td id="lexerror22" style="padding:3px"><img id="lexerrorimage22" src="#" height=10 width=10></img></td><td width=75>quotes.lexautolease.co.uk</td></tr>
  <tr></td><td id="lexerror32" style="padding:3px"><img id="lexerrorimage32" src="#" height=10 width=10></img></td><td width=75>driver.lexautolease.co.uk</td></tr>
  <tr></td><td id="lexerror42" style="padding:3px"><img id="lexerrorimage42" src="#" height=10 width=10></img></td><td width=75>www.lexautoleaseinteractive.co.uk</td></tr>
  <tr></td><td id="lexerror52" style="padding:3px"><img id="lexerrorimage52" src="#" height=10 width=10></img></td><td width=75>supplier.lexautolease.co.uk</td></tr>
  <tr></td><td id="lexerror62" style="padding:3px"><img id="lexerrorimage62" src="#" height=10 width=10></img></td><td width=75>associate.lexautolease.co.uk</td></tr>
</table>

<span id="BHHeaderText2" style="  position: absolute;  top: 70px;  left: 1600px; width: 80px; font-weight: bold;  display:none; font-size: 10px;  font-family: Calibri;">Black Horse</span>
<table id="BHTable2" style="    font-family: arial, sans-serif; font-size:4px;border-collapse: collapse;display:none; width: 80px;position: absolute;top: 90px;left: 1590px; padding: 4px;">
  <tr></td><td id="bherror12" style="padding:3px"><img id="bherrorimage12" src="#" height=10 width=10></img></td><td width=75>www.blackhorse.co.uk</td></tr>
  <tr></td><td id="bherror22" style="padding:3px"><img id="bherrorimage22" src="#" height=10 width=10></img></td><td width=75>customerportal.blackhorse.co.uk</td></tr>
  <tr></td><td id="bherror32" style="padding:3px"><img id="bherrorimage32" src="#" height=10 width=10></img></td><td width=75>www.blackhorseoffshore.co.uk</td></tr>
  <tr></td><td id="bherror42" style="padding:3px"><img id="bherrorimage42" src="#" height=10 width=10></img></td><td width=75>www.equips.co.uk</td></tr>
  <tr></td><td id="bherror52" style="padding:3px"><img id="bherrorimage52" src="#" height=10 width=10></img></td><td width=75>www.letsuconnect.co.uk</td></tr>
  <tr></td><td id="bherror62" style="padding:3px"><img id="bherrorimage62" src="#" height=10 width=10></img></td><td width=75>www.blackhorselogo.co.uk</td></tr>
</table>

<div id="UpTrendsContainerClick" onclick="showUpTrendsChart();" style="width: 250px; height: 200px; position: absolute; left: 1420px; top: 20px; margin: 0 auto"></div>

<!--Visits this Month-->

<div id="thisMonthBHData" class="hide"></div>
<div id="thisMonthBHTotal" class="hide"></div>
<div id="thisMonthCPData" class="hide"></div>
<div id="thisMonthCPTotal" class="hide"></div>
<div id="VisitsThisMonthContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="VisitsThisMonthContainerHide" style="width: 300px; height: 200px; position: absolute; left: 70px; top: 275px; margin: 0 auto"></div>
<div id="VisitsThisMonthContainerClick" onclick="showVisitsThisMonthChart();" style="width: 300px; height: 200px;position: absolute; left: 70px; top: 275px; margin: 0 auto"></div>


<!-- OCF Month Dashboard -->

<div id="OCFMonthContainer" style="min-width: 310px; height: 800px; margin: 0 auto"></div>
<div id="OCFMonthContainerHide" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 275px; margin: 0 auto"></div>
<div id="OCFMonthContainerClick" onclick="showOCFMonthChart();" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 275px; margin: 0 auto"></div>

<div id="OCFMonthlloydsData" class="hide"></div>
<div id="OCFMonthhalifaxData" class="hide"></div>
<div id="OCFMonthbosData" class="hide"></div>
<div id="OCFMonthjaguarData" class="hide"></div>
<div id="OCFMonthlandroverData" class="hide"></div>
<div id="OCFMonthmitsubishiData" class="hide"></div>
<div id="OCFMonthsuzukiData" class="hide"></div>
<div id="OCFMonthimfData" class="hide"></div>
<div id="OCFMonthshogunData" class="hide"></div>


<!-- FAD Dashboard -->

<div id="FADContainer" style="min-width: 410px; height: 800px; margin: 0 auto"></div>
<div id="FADContainerHide" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 275px; margin: 0 auto"></div>
<div id="FADContainerClick" onclick="showFADChart();" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 275px; margin: 0 auto"></div>
<div id="fad1" class="hide"></div><div id="fad2" class="hide"></div><div id="fad3" class="hide"></div><div id="fad4" class="hide"></div>

<span id="DealerHeaderText" style="position: absolute;top: 215px;  left: 200px;  font-weight: bold;  font-size: 25px;  font-family: Calibri;">Top Dealers Viewed</span>
<table id="DealerTable" style="font-family: arial, sans-serif;border-collapse: collapse;width: 400px;position: absolute;top: 260px;left: 100px;padding: 8px;font-size: 20px;  font-family: Calibri;">
  <tr><th style="padding-top:12px;padding-bottom:12px;padding-left:12px;background-color:#4CAF50;color:white;">Dealer</th><th style="padding-top:12px;padding-bottom:12px;padding-left:12px;background-color:#4CAF50;color:white;">Views</th></tr>
  <tr><td id="dealer1" style="padding:12px"></td><td id="dealerdata1" style="text-align:center;"></td></tr>
  <tr><td id="dealer2" style="padding:12px"></td><td id="dealerdata2" style="text-align:center;"></td></tr>
  <tr><td id="dealer3" style="padding:12px"></td><td id="dealerdata3" style="text-align:center;"></td></tr>
  <tr><td id="dealer4" style="padding:12px"></td><td id="dealerdata4" style="text-align:center;"></td></tr>
  <tr><td id="dealer5" style="padding:12px"></td><td id="dealerdata5" style="text-align:center;"></td></tr>
  <tr><td id="dealer6" style="padding:12px"></td><td id="dealerdata6" style="text-align:center;"></td></tr>
</table>


<!-- BH Goals Monthly Dashboard-->


<span id="BHGoalsHeaderText" style="position: absolute;top: 40px;left: 400px; right:0; width:1000px; margin:auto; font-weight: bold;  font-size: 35px; font-family: Calibri;">Blackhorse.co.uk Goals this Month</span>

<div id="bhgoals-thismonth-labelbox" style=" width: 50px; top:150px; height: 280px; position:absolute; left:-1205px; right:0; margin:auto; background: #DDD;"></div>
<div id="bhgoals-thismonth-1" style=" width: 280px; top:150px; height: 280px; position:absolute; left:-855px; right:0; margin:auto; background: #DDD;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Go on to WSS</div>
    <div id="bhgoals-thismonth-data1" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-2" style=" width: 280px; top:150px; height: 280px; position:absolute; left:-285px; right:0; margin:auto; background: #AAA;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Found a Dealer</div>
    <div id="bhgoals-thismonth-data2" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-3" style=" width: 280px; top:150px; height: 280px; position:absolute; left:285px; right:0; margin:auto; background: #777;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Product Pages Visits</div>
    <div id="bhgoals-thismonth-data3" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-4" style=" width: 280px; top:150px; height: 280px; position:absolute; left:855px; right:0; margin:auto; background: #444;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Finance Calculator</div>
    <div id="bhgoals-thismonth-data4" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>

<div id="bhgoals-thismonth-labelbox2" style=" width: 50px; top:500px; height: 280px; position:absolute; left:-1205px; right:0; margin:auto; background: #DDD;"></div>
<div id="bhgoals-thismonth-5" style=" width: 280px; top:500px; height: 280px; position:absolute; left:-855px; right:0; margin:auto; background: #DDD;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Go on to e-Quips</div>
    <div id="bhgoals-thismonth-data5" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-6" style=" width: 280px; top:500px; height: 280px; position:absolute; left:-285px; right:0; margin:auto; background: #AAA;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Go on to</div>
    <div style="text-align:center;vertical-align:middle;line-height: 0px; font-size: 30px;  font-family: Calibri;">LetsUConnect</div>
    <div id="bhgoals-thismonth-data6" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-7" style=" width: 280px; top:500px; height: 280px; position:absolute; left:285px; right:0; margin:auto; background: #777;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Go on to LetsULearn</div>
    <div id="bhgoals-thismonth-data7" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-8" style=" width: 280px; top:500px; height: 280px; position:absolute; left:855px; right:0; margin:auto; background: #444;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Viewed Advice Pages</div>
    <div id="bhgoals-thismonth-data8" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>

<span id="CustomerHeader" style="position: absolute;left:-1205px; right:0; margin:auto; top: 260px; width:200px;transform: rotate(-90deg); font-weight: bold;  font-size: 25px;  font-family: Calibri;">Customer Goals</span>
<span id="DealerHeader" style="position: absolute;left:-1205px; right:0; margin:auto; top: 590px; width:200px;transform: rotate(-90deg); font-weight: bold;  font-size: 25px;  font-family: Calibri;">Dealer Goals</span>


<!-- BH Goals Monthly Mini Container -->

<span id="BHGoalsHeaderText2" style="position: absolute;top: 275px;left: 1120px;  font-size: 18px; font-family: Calibri;">Blackhorse.co.uk Goals</span>

<div id="bhgoals-thismonth-labelbox12" style=" width: 20px; top:325px; height: 60px; position:absolute; left:1060px; background: #DDD;"></div>
<div id="bhgoals-thismonth-12" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1085px; background: #DDD;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Go on to WSS</div>
    <div id="bhgoals-thismonth-data12" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-22" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1150px; background: #AAA;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Found a Dealer</div>
    <div id="bhgoals-thismonth-data22" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-32" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1215px; background: #777;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Product Pages</div>
    <div id="bhgoals-thismonth-data32" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-42" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1280px; background: #444;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Finance Calculator</div>
    <div id="bhgoals-thismonth-data42" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>

<div id="bhgoals-thismonth-labelbox22" style=" width: 20px; top:395px; height: 60px; position:absolute; left:1060px; background: #DDD;"></div>
<div id="bhgoals-thismonth-52" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1085px; background: #DDD;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Go on to e-Quips</div>
    <div id="bhgoals-thismonth-data52" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-62" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1150px; background: #AAA;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Lets U Connect</div>
    <div id="bhgoals-thismonth-data62" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-72" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1215px; background: #777;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Lets U Learn</div>
    <div id="bhgoals-thismonth-data72" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="bhgoals-thismonth-82" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1280px; background: #444;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Advice Pages</div>
    <div id="bhgoals-thismonth-data82" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>

<span id="CustomerHeader2" style="position: absolute;left:970px; top: 273px; width:200px;transform: rotate(-90deg); font-size: 6px;  font-family: Calibri;">Customer Goals</span>
<span id="DealerHeader2" style="position: absolute;left:970px; top: 339px; width:200px;transform: rotate(-90deg); font-size: 6px;  font-family: Calibri;">Dealer Goals</span>


<div id="BHGoalsMonthlyClick" onclick="showBHGoalsMonthlyChart();" style="width: 300px; height: 200px; position: absolute; left: 1050px; top: 275px; margin: 0 auto"></div>


<!-- CP Goals Monthly Dashboard-->


<span id="cpGoalsHeaderText" style="position: absolute;top: 40px;left: 400px; right:0; width:1000px; margin:auto;  font-weight: bold;  font-size: 35px; font-family: Calibri;">Customer Portal Goals this Month</span>

<div id="cpgoals-thismonth-labelbox" style=" width: 50px; top:150px; height: 280px; position:absolute; left:-1205px; right:0; margin:auto; background: #e5e5ff;"></div>
<div id="cpgoals-thismonth-1" style=" width: 280px; top:150px; height: 280px; position:absolute; left:-855px; right:0; margin:auto; background: #e5e5ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Logins</div>
    <div id="cpgoals-thismonth-data1" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-2" style=" width: 280px; top:150px; height: 280px; position:absolute; left:-285px; right:0; margin:auto; background: #ccccff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Payments</div>
    <div id="cpgoals-thismonth-data2" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-3" style=" width: 280px; top:150px; height: 280px; position:absolute; left:285px; right:0; margin:auto; background: #b2b2ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Settlements</div>
    <div id="cpgoals-thismonth-data3" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-4" style=" width: 280px; top:150px; height: 280px; position:absolute; left:855px; right:0; margin:auto; background: #9999ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Statement Requested</div>
    <div id="cpgoals-thismonth-data4" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>

<div id="cpgoals-thismonth-labelbox2" style=" width: 50px; top:500px; height: 280px; position:absolute; left:-1205px; right:0; margin:auto; background: #e5e5ff;"></div>
<div id="cpgoals-thismonth-5" style=" width: 280px; top:500px; height: 280px; position:absolute; left:-855px; right:0; margin:auto; background: #e5e5ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Payment Date</div>
    <div id="cpgoals-thismonth-data5" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-6" style=" width: 280px; top:500px; height: 280px; position:absolute; left:-285px; right:0; margin:auto; background: #ccccff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Contact Details</div>
    <div id="cpgoals-thismonth-data6" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-7" style=" width: 280px; top:500px; height: 280px; position:absolute; left:285px; right:0; margin:auto; background: #b2b2ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Address Details</div>
    <div id="cpgoals-thismonth-data7" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-8" style=" width: 280px; top:500px; height: 280px; position:absolute; left:855px; right:0; margin:auto; background: #9999ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 80px; font-size: 30px;  font-family: Calibri;">Bank Details</div>
    <div id="cpgoals-thismonth-data8" style="text-align:center;vertical-align:middle;line-height: 150px; font-weight:bold; font-size: 80px;  font-family: Calibri;"></div></div>

<span id="cptransactions1" style="position: absolute;left:-1210px; right:0; margin:auto; top: 250px; width:200px;transform: rotate(-90deg); font-weight: bold;  font-size: 30px;  font-family: Calibri;">Transactions</span>
<span id="cpupdated2" style="position: absolute;left:-1210px; right:0; margin:auto; top: 620px; width:200px;transform: rotate(-90deg); font-weight: bold;  font-size: 30px;  font-family: Calibri;">Details Updated</span>


<!-- cp Goals Monthly Mini Container -->

<span id="cpGoalsHeaderText2" style="position: absolute;top: 275px;left: 1465px;  font-size: 18px; font-family: Calibri;">Customer Portal Goals</span>

<div id="cpgoals-thismonth-labelbox12" style=" width: 20px; top:325px; height: 60px; position:absolute; left:1405px; background: #e5e5ff;"></div>
<div id="cpgoals-thismonth-12" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1430px; background: #e5e5ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Logins</div>
    <div id="cpgoals-thismonth-data12" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-22" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1495px; background: #ccccff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Payments</div>
    <div id="cpgoals-thismonth-data22" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-32" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1560px; background: #b2b2ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Settlements</div>
    <div id="cpgoals-thismonth-data32" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-42" style=" width: 60px; top:325px; height: 60px; position:absolute; left:1625px; background: #9999ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Statement</div>
    <div id="cpgoals-thismonth-data42" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>

<div id="cpgoals-thismonth-labelbox22" style=" width: 20px; top:395px; height: 60px; position:absolute; left:1405px; background: #e5e5ff;"></div>
<div id="cpgoals-thismonth-52" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1430px; background: #e5e5ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Payment Date</div>
    <div id="cpgoals-thismonth-data52" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-62" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1495px; background: #ccccff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Contact Details</div>
    <div id="cpgoals-thismonth-data62" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-72" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1560px; background: #b2b2ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Address Details</div>
    <div id="cpgoals-thismonth-data72" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>
<div id="cpgoals-thismonth-82" style=" width: 60px; top:395px; height: 60px; position:absolute; left:1625px; background: #9999ff;">
    <div style="text-align:center;vertical-align:middle;line-height: 20px; font-size: 6px;  font-family: Calibri;">Bank Details</div>
    <div id="cpgoals-thismonth-data82" style="text-align:center;vertical-align:middle;line-height: 30px; font-weight:bold; font-size: 14px;  font-family: Calibri;"></div></div>

<span id="cptransactions12" style="position: absolute;left:1315px; top: 273px; width:200px;transform: rotate(-90deg); font-size: 6px;  font-family: Calibri;">Transactions</span>
<span id="cpupdated22" style="position: absolute;left:1315px; top: 339px; width:200px;transform: rotate(-90deg); font-size: 6px;  font-family: Calibri;">Details Updated</span>


<div id="cpGoalsMonthlyClick" onclick="showcpGoalsMonthlyChart();" style="width: 300px; height: 200px; position: absolute; left: 1405px; top: 275px; margin: 0 auto"></div>


<!-- Cust Visits 18 months -->

<div id="Cust18Container" style="min-width: 410px; height: 800px; margin: 0 auto"></div>
<div id="Cust18ContainerHide" style="width: 300px; height: 200px; position: absolute; left: 70px; top: 530px; margin: 0 auto"></div>
<div id="Cust18ContainerClick" onclick="showCust18Chart();" style="width: 300px; height: 200px; position: absolute; left: 70px; top: 530px; margin: 0 auto"></div>

<div id="custyeardata" class="hide"></div>
<div id="custsearchdata" class="hide"></div>
<div id="18date1" class="hide"></div><div id="18date2" class="hide"></div><div id="18date3" class="hide"></div><div id="18date4" class="hide"></div>
<div id="18date5" class="hide"></div><div id="18date6" class="hide"></div><div id="18date7" class="hide"></div><div id="18date8" class="hide"></div>
<div id="18date9" class="hide"></div><div id="18date10" class="hide"></div><div id="18date11" class="hide"></div><div id="18date12" class="hide"></div>
<div id="18date13" class="hide"></div><div id="18date14" class="hide"></div><div id="18date15" class="hide"></div><div id="18date16" class="hide"></div>
<div id="18date17" class="hide"></div><div id="18date18" class="hide"></div>


<!-- Device Traffic 18 months -->

<div id="Devices18Container" style="min-width: 410px; height: 800px; margin: 0 auto"></div>
<div id="Devices18ContainerHide" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 530px; margin: 0 auto"></div>
<div id="Devices18ContainerClick" onclick="showDevices18Chart();" style="width: 300px; height: 200px; position: absolute; left: 400px; top: 530px; margin: 0 auto"></div>
<div id="desktopdata" class="hide"></div>
<div id="tabletdata" class="hide"></div>
<div id="mobiledata" class="hide"></div>


<!-- WSSc 18 months -->

<div id="WSS18Container" style="min-width: 410px; height: 800px; margin: 0 auto"></div>
<div id="WSS18ContainerHide" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 530px; margin: 0 auto"></div>
<div id="WSS18ContainerClick" onclick="showWSS18Chart();" style="width: 300px; height: 200px; position: absolute; left: 730px; top: 530px; margin: 0 auto"></div>
<div id="cp18month" class="hide"></div><div id="lloyds18month" class="hide"></div><div id="halifax18month" class="hide"></div>
<div id="bos18month" class="hide"></div><div id="suzuki18month" class="hide"></div><div id="mitsubishi18month" class="hide"></div>
<div id="jaguar18month" class="hide"></div><div id="landrover18month" class="hide"></div><div id="imf18month" class="hide"></div>


<!--Rotate and Back Button-->

<img id="rotateImage" src="http://files.softicons.com/download/web-icons/stock-web-icons-by-snap2objects/png/256/reload.png" style="position:absolute;top:750px; border:1px solid #000;left:34px; width:50px;">
<div id="rotateStatusOn" onclick="rotateOn();" style="width: 50px; height: 50px;position: absolute; left: 34px; top: 750px; margin: 0 auto"></div>
<div id="rotateStatusOff" onclick="rotateOff();" style="width: 50px; height: 50px;position: absolute; left: 30px;  border:5px solid #16e744;top: 746px; margin: 0 auto" class=hide></div>
<div id="rotateStatus" class="hide">norotate</div>

<span id="allHide" style="color:#6fd3f4; font-family: Calibri; position:absolute; font-size:18px;font-weight:bold; left:20px; top:10px;"  onclick="hideAllCharts(),rotateOff();">< Back to Dashboard</span>

<style>
.hide {
  display: none;
}
td, th {
    border: 0px solid #dddddd;
    text-align: left;
}

tr:nth-child(even) {
    background-color: #dddddd;
}


</style>


</head>

<body onload="hideAllCharts(),getMonth(),UpTrendsHide(),VisitsTodayCall(),BHGoalsMonthlyHide(),cpGoalsMonthlyHide()">

<script>

function hideAllCharts(){
document.getElementById("VisitsTodayContainerHide").classList.remove('hide')
document.getElementById("DealerPageViewsContainerHide").classList.remove('hide')
document.getElementById("VisitsTodayContainer").classList.add('hide')
document.getElementById("DealerPageViewsContainer").classList.add('hide')
document.getElementById("DealerPageViewsContainerClick").classList.remove('hide')
document.getElementById("VisitsTodayContainerClick").classList.remove('hide')
document.getElementById("allHide").classList.add('hide')
document.getElementById("SiteSearchContainer").classList.add('hide')
document.getElementById("SiteSearchContainerHide").classList.remove('hide')
document.getElementById("SiteSearchContainerClick").classList.remove('hide')
document.getElementById("OCFContainer").classList.add('hide')
document.getElementById("OCFContainerHide").classList.remove('hide')
document.getElementById("OCFContainerClick").classList.remove('hide')
document.getElementById("APIHeaderText").classList.add('hide')
document.getElementById("LexHeaderText").classList.add('hide')
document.getElementById("BHHeaderText").classList.add('hide')
document.getElementById("APITable").classList.add('hide')
document.getElementById("LexTable").classList.add('hide')
document.getElementById("BHTable").classList.add('hide')
document.getElementById("UpTrendsContainerClick").classList.remove('hide')
document.getElementById("UpTrendsHeaderText").style.display = "none";
document.getElementById("APIHeaderText2").style.display = "initial";
document.getElementById("LexHeaderText2").style.display = "initial";
document.getElementById("BHHeaderText2").style.display = "initial";
document.getElementById("APITable2").style.display = "initial";
document.getElementById("LexTable2").style.display = "initial";
document.getElementById("BHTable2").style.display = "initial";
document.getElementById("UpTrendsDashboardHeader").style.display = "initial";
document.getElementById("TodayLine").classList.remove('hide')
document.getElementById("TodayHeader").classList.remove('hide')
document.getElementById("MonthLine").classList.remove('hide')
document.getElementById("MonthHeader").classList.remove('hide')
if (document.getElementById("rotateStatus").innerHTML=="norotate"){document.getElementById("rotateImage").classList.remove('hide')}
document.getElementById("VisitsThisMonthContainerHide").classList.remove('hide')
document.getElementById("VisitsThisMonthContainer").classList.add('hide')
document.getElementById("VisitsThisMonthContainerClick").classList.remove('hide')
document.getElementById("OCFMonthContainer").classList.add('hide')
document.getElementById("OCFMonthContainerHide").classList.remove('hide')
document.getElementById("OCFMonthContainerClick").classList.remove('hide')
document.getElementById("FADContainer").classList.add('hide')
document.getElementById("FADContainerHide").classList.remove('hide')
document.getElementById("FADContainerClick").classList.remove('hide')
document.getElementById("DealerHeaderText").classList.add('hide')
document.getElementById("DealerTable").classList.add('hide')
document.getElementById("BHGoalsHeaderText").classList.add('hide')
document.getElementById("bhgoals-thismonth-labelbox").classList.add('hide')
document.getElementById("bhgoals-thismonth-1").classList.add('hide')
document.getElementById("bhgoals-thismonth-2").classList.add('hide')
document.getElementById("bhgoals-thismonth-3").classList.add('hide')
document.getElementById("bhgoals-thismonth-4").classList.add('hide')
document.getElementById("bhgoals-thismonth-labelbox2").classList.add('hide')
document.getElementById("bhgoals-thismonth-5").classList.add('hide')
document.getElementById("bhgoals-thismonth-6").classList.add('hide')
document.getElementById("bhgoals-thismonth-7").classList.add('hide')
document.getElementById("bhgoals-thismonth-8").classList.add('hide')
document.getElementById("CustomerHeader").classList.add('hide')
document.getElementById("DealerHeader").classList.add('hide')
document.getElementById("BHGoalsMonthlyClick").classList.remove('hide')
document.getElementById("BHGoalsHeaderText2").style.display = "initial";
document.getElementById("bhgoals-thismonth-labelbox12").style.display = "initial";
document.getElementById("bhgoals-thismonth-12").style.display = "initial";
document.getElementById("bhgoals-thismonth-22").style.display = "initial";
document.getElementById("bhgoals-thismonth-32").style.display = "initial";
document.getElementById("bhgoals-thismonth-42").style.display = "initial";
document.getElementById("bhgoals-thismonth-52").style.display = "initial";
document.getElementById("bhgoals-thismonth-62").style.display = "initial";
document.getElementById("bhgoals-thismonth-72").style.display = "initial";
document.getElementById("bhgoals-thismonth-82").style.display = "initial";
document.getElementById("CustomerHeader2").style.display = "initial";
document.getElementById("DealerHeader2").style.display = "initial";
document.getElementById("bhgoals-thismonth-labelbox22").style.display = "initial";

document.getElementById("cpGoalsHeaderText").classList.add('hide')
document.getElementById("cpgoals-thismonth-labelbox").classList.add('hide')
document.getElementById("cpgoals-thismonth-1").classList.add('hide')
document.getElementById("cpgoals-thismonth-2").classList.add('hide')
document.getElementById("cpgoals-thismonth-3").classList.add('hide')
document.getElementById("cpgoals-thismonth-4").classList.add('hide')
document.getElementById("cpgoals-thismonth-labelbox2").classList.add('hide')
document.getElementById("cpgoals-thismonth-5").classList.add('hide')
document.getElementById("cpgoals-thismonth-6").classList.add('hide')
document.getElementById("cpgoals-thismonth-7").classList.add('hide')
document.getElementById("cpgoals-thismonth-8").classList.add('hide')
document.getElementById("cptransactions1").classList.add('hide')
document.getElementById("cpupdated2").classList.add('hide')
document.getElementById("cpGoalsMonthlyClick").classList.remove('hide')
document.getElementById("cpGoalsHeaderText2").style.display = "initial";
document.getElementById("cpgoals-thismonth-labelbox12").style.display = "initial";
document.getElementById("cpgoals-thismonth-12").style.display = "initial";
document.getElementById("cpgoals-thismonth-22").style.display = "initial";
document.getElementById("cpgoals-thismonth-32").style.display = "initial";
document.getElementById("cpgoals-thismonth-42").style.display = "initial";
document.getElementById("cpgoals-thismonth-52").style.display = "initial";
document.getElementById("cpgoals-thismonth-62").style.display = "initial";
document.getElementById("cpgoals-thismonth-72").style.display = "initial";
document.getElementById("cpgoals-thismonth-82").style.display = "initial";
document.getElementById("cptransactions12").style.display = "initial";
document.getElementById("cpupdated22").style.display = "initial";
document.getElementById("cpgoals-thismonth-labelbox22").style.display = "initial";

document.getElementById("YearLine").classList.remove('hide')
document.getElementById("YearHeader").classList.remove('hide')
document.getElementById("Cust18ContainerHide").classList.remove('hide')
document.getElementById("Cust18Container").classList.add('hide')
document.getElementById("Cust18ContainerClick").classList.remove('hide')
document.getElementById("Devices18ContainerHide").classList.remove('hide')
document.getElementById("Devices18Container").classList.add('hide')
document.getElementById("Devices18ContainerClick").classList.remove('hide')
document.getElementById("WSS18ContainerHide").classList.remove('hide')
document.getElementById("WSS18Container").classList.add('hide')
document.getElementById("WSS18ContainerClick").classList.remove('hide')
};

function hideEverything(){
document.getElementById("SiteSearchContainerHide").classList.add('hide')
document.getElementById("SiteSearchContainerClick").classList.add('hide')
document.getElementById("SiteSearchContainer").classList.add('hide')
document.getElementById("DealerPageViewsContainerHide").classList.add('hide')
document.getElementById("DealerPageViewsContainerClick").classList.add('hide')
document.getElementById("DealerPageViewsContainer").classList.add('hide')
document.getElementById("VisitsTodayContainerClick").classList.add('hide')
document.getElementById("VisitsTodayContainerHide").classList.add('hide')
document.getElementById("VisitsTodayContainer").classList.add('hide')
document.getElementById("OCFContainerHide").classList.add('hide')
document.getElementById("OCFContainerClick").classList.add('hide')
document.getElementById("OCFContainer").classList.add('hide')
document.getElementById("UpTrendsContainerClick").classList.add('hide')
document.getElementById("UpTrendsHeaderText").style.display = "none";
document.getElementById("APIHeaderText2").style.display = "none";
document.getElementById("LexHeaderText2").style.display = "none";
document.getElementById("BHHeaderText2").style.display = "none";
document.getElementById("APITable2").style.display = "none";
document.getElementById("LexTable2").style.display = "none";
document.getElementById("BHTable2").style.display = "none";
document.getElementById("UpTrendsDashboardHeader").style.display = "none";
document.getElementById("TodayLine").classList.add('hide')
document.getElementById("TodayHeader").classList.add('hide')
document.getElementById("MonthLine").classList.add('hide')
document.getElementById("MonthHeader").classList.add('hide')
if (document.getElementById("rotateStatus").innerHTML=="norotate"){document.getElementById("rotateImage").classList.add('hide')}
document.getElementById("VisitsThisMonthContainerClick").classList.add('hide')
document.getElementById("VisitsThisMonthContainerHide").classList.add('hide')
document.getElementById("VisitsThisMonthContainer").classList.add('hide')
document.getElementById("OCFMonthContainerHide").classList.add('hide')
document.getElementById("OCFMonthContainerClick").classList.add('hide')
document.getElementById("OCFMonthContainer").classList.add('hide')
document.getElementById("FADContainerHide").classList.add('hide')
document.getElementById("FADContainerClick").classList.add('hide')
document.getElementById("FADContainer").classList.add('hide')
document.getElementById("DealerHeaderText").classList.add('hide')
document.getElementById("DealerTable").classList.add('hide')

document.getElementById("BHGoalsHeaderText").classList.add('hide')
document.getElementById("bhgoals-thismonth-labelbox").classList.add('hide')
document.getElementById("bhgoals-thismonth-1").classList.add('hide')
document.getElementById("bhgoals-thismonth-2").classList.add('hide')
document.getElementById("bhgoals-thismonth-3").classList.add('hide')
document.getElementById("bhgoals-thismonth-4").classList.add('hide')
document.getElementById("bhgoals-thismonth-labelbox2").classList.add('hide')
document.getElementById("bhgoals-thismonth-5").classList.add('hide')
document.getElementById("bhgoals-thismonth-6").classList.add('hide')
document.getElementById("bhgoals-thismonth-7").classList.add('hide')
document.getElementById("bhgoals-thismonth-8").classList.add('hide')
document.getElementById("CustomerHeader").classList.add('hide')
document.getElementById("DealerHeader").classList.add('hide')
document.getElementById("BHGoalsMonthlyClick").classList.add('hide')
document.getElementById("BHGoalsHeaderText2").style.display = "none";
document.getElementById("bhgoals-thismonth-labelbox22").style.display = "none";
document.getElementById("bhgoals-thismonth-labelbox12").style.display = "none";
document.getElementById("bhgoals-thismonth-12").style.display = "none";
document.getElementById("bhgoals-thismonth-22").style.display = "none";
document.getElementById("bhgoals-thismonth-32").style.display = "none";
document.getElementById("bhgoals-thismonth-42").style.display = "none";
document.getElementById("bhgoals-thismonth-52").style.display = "none";
document.getElementById("bhgoals-thismonth-62").style.display = "none";
document.getElementById("bhgoals-thismonth-72").style.display = "none";
document.getElementById("bhgoals-thismonth-82").style.display = "none";
document.getElementById("CustomerHeader2").style.display = "none";
document.getElementById("DealerHeader2").style.display = "none";

document.getElementById("cpGoalsHeaderText").classList.add('hide')
document.getElementById("cpgoals-thismonth-labelbox").classList.add('hide')
document.getElementById("cpgoals-thismonth-1").classList.add('hide')
document.getElementById("cpgoals-thismonth-2").classList.add('hide')
document.getElementById("cpgoals-thismonth-3").classList.add('hide')
document.getElementById("cpgoals-thismonth-4").classList.add('hide')
document.getElementById("cpgoals-thismonth-labelbox2").classList.add('hide')
document.getElementById("cpgoals-thismonth-5").classList.add('hide')
document.getElementById("cpgoals-thismonth-6").classList.add('hide')
document.getElementById("cpgoals-thismonth-7").classList.add('hide')
document.getElementById("cpgoals-thismonth-8").classList.add('hide')
document.getElementById("cptransactions1").classList.add('hide')
document.getElementById("cpupdated2").classList.add('hide')
document.getElementById("cpGoalsMonthlyClick").classList.add('hide')
document.getElementById("cpGoalsHeaderText2").style.display = "none";
document.getElementById("cpgoals-thismonth-labelbox22").style.display = "none";
document.getElementById("cpgoals-thismonth-labelbox12").style.display = "none";
document.getElementById("cpgoals-thismonth-12").style.display = "none";
document.getElementById("cpgoals-thismonth-22").style.display = "none";
document.getElementById("cpgoals-thismonth-32").style.display = "none";
document.getElementById("cpgoals-thismonth-42").style.display = "none";
document.getElementById("cpgoals-thismonth-52").style.display = "none";
document.getElementById("cpgoals-thismonth-62").style.display = "none";
document.getElementById("cpgoals-thismonth-72").style.display = "none";
document.getElementById("cpgoals-thismonth-82").style.display = "none";
document.getElementById("cptransactions12").style.display = "none";
document.getElementById("cpupdated22").style.display = "none";
document.getElementById("cpgoals-thismonth-labelbox22").style.display = "none";

document.getElementById("YearLine").classList.add('hide')
document.getElementById("YearHeader").classList.add('hide')
document.getElementById("Cust18ContainerClick").classList.add('hide')
document.getElementById("Cust18ContainerHide").classList.add('hide')
document.getElementById("Cust18Container").classList.add('hide')
document.getElementById("Devices18ContainerClick").classList.add('hide')
document.getElementById("Devices18ContainerHide").classList.add('hide')
document.getElementById("Devices18Container").classList.add('hide')
document.getElementById("WSS18ContainerClick").classList.add('hide')
document.getElementById("WSS18ContainerHide").classList.add('hide')
document.getElementById("WSS18Container").classList.add('hide')
};

function showVisitsTodayChart(){
hideEverything();
document.getElementById("VisitsTodayContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showDealerPageViewsChart(){
hideEverything();
document.getElementById("DealerPageViewsContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showSiteSearchChart(){
hideEverything();
document.getElementById("SiteSearchContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showOCFChart(){
hideEverything();
document.getElementById("OCFContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showUpTrendsChart(){
hideEverything();
document.getElementById("APIHeaderText").classList.remove('hide')
document.getElementById("LexHeaderText").classList.remove('hide')
document.getElementById("BHHeaderText").classList.remove('hide')
document.getElementById("APITable").classList.remove('hide')
document.getElementById("LexTable").classList.remove('hide')
document.getElementById("BHTable").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
document.getElementById("UpTrendsHeaderText").style.display = "initial";
};

function showVisitsThisMonthChart(){
hideEverything();
document.getElementById("VisitsThisMonthContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showOCFMonthChart(){
hideEverything();
document.getElementById("OCFMonthContainer").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showFADChart(){
hideEverything();
document.getElementById("FADContainer").classList.remove('hide')
document.getElementById("DealerHeaderText").classList.remove('hide')
document.getElementById("DealerTable").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showBHGoalsMonthlyChart(){
hideEverything();
document.getElementById("BHGoalsHeaderText").classList.remove('hide')
document.getElementById("bhgoals-thismonth-labelbox").classList.remove('hide')
document.getElementById("bhgoals-thismonth-1").classList.remove('hide')
document.getElementById("bhgoals-thismonth-2").classList.remove('hide')
document.getElementById("bhgoals-thismonth-3").classList.remove('hide')
document.getElementById("bhgoals-thismonth-4").classList.remove('hide')
document.getElementById("bhgoals-thismonth-labelbox2").classList.remove('hide')
document.getElementById("bhgoals-thismonth-5").classList.remove('hide')
document.getElementById("bhgoals-thismonth-6").classList.remove('hide')
document.getElementById("bhgoals-thismonth-7").classList.remove('hide')
document.getElementById("bhgoals-thismonth-8").classList.remove('hide')
document.getElementById("CustomerHeader").classList.remove('hide')
document.getElementById("DealerHeader").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showcpGoalsMonthlyChart(){
hideEverything();
document.getElementById("cpGoalsHeaderText").classList.remove('hide')
document.getElementById("cpgoals-thismonth-labelbox").classList.remove('hide')
document.getElementById("cpgoals-thismonth-1").classList.remove('hide')
document.getElementById("cpgoals-thismonth-2").classList.remove('hide')
document.getElementById("cpgoals-thismonth-3").classList.remove('hide')
document.getElementById("cpgoals-thismonth-4").classList.remove('hide')
document.getElementById("cpgoals-thismonth-labelbox2").classList.remove('hide')
document.getElementById("cpgoals-thismonth-5").classList.remove('hide')
document.getElementById("cpgoals-thismonth-6").classList.remove('hide')
document.getElementById("cpgoals-thismonth-7").classList.remove('hide')
document.getElementById("cpgoals-thismonth-8").classList.remove('hide')
document.getElementById("cptransactions1").classList.remove('hide')
document.getElementById("cpupdated2").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showCust18Chart(){
hideEverything();
document.getElementById("Cust18Container").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showDevices18Chart(){
hideEverything();
document.getElementById("Devices18Container").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};

function showWSS18Chart(){
hideEverything();
document.getElementById("WSS18Container").classList.remove('hide')
document.getElementById("allHide").classList.remove('hide')
};


function rotateOn(){
document.getElementById("rotateStatus").innerHTML="rotate"
document.getElementById("rotateStatusOn").classList.add('hide')
document.getElementById("rotateStatusOff").classList.remove('hide')

showVisitsTodayChart(); console.log("show Visits Today");
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showDealerPageViewsChart(); console.log("dealer page views")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showSiteSearchChart();console.log("site search")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showOCFChart();console.log("OCF Chart")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showUpTrendsChart();console.log("UpTrends")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){hideAllCharts(); showVisitsThisMonthChart();console.log("Visits this Month")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showOCFMonthChart();console.log("OCF Monthly")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showFADChart();console.log("Find a Dealer")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showBHGoalsMonthlyChart();console.log("BH.co.uk Goals Monthly")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showcpGoalsMonthlyChart();console.log("Customer Portal Goals Monthly")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showCust18Chart();console.log("bh.co.uk Visits 18 months")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showDevices18Chart();console.log("Device 18 months")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){showWSS18Chart();console.log("WSS 18 months")}else {throw new Error("Cancelling Rotate")};
    setTimeout(function () {
if (document.getElementById("rotateStatus").innerHTML=="rotate"){hideAllCharts();rotateOn();console.log("Start Again")}else {throw new Error("Cancelling Rotate")};
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
    }, 5000);
};


function rotateOff(){
document.getElementById("rotateStatus").innerHTML="norotate"
document.getElementById("rotateStatusOn").classList.remove('hide')
document.getElementById("rotateStatusOff").classList.add('hide')
hideAllCharts();
};


function UpTrendsHide() {
document.getElementById("APIHeaderText2").style.display = "none";
document.getElementById("LexHeaderText2").style.display = "none";
document.getElementById("BHHeaderText2").style.display = "none";
document.getElementById("APITable2").style.display = "none";
document.getElementById("LexTable2").style.display = "none";
document.getElementById("BHTable2").style.display = "none";
document.getElementById("UpTrendsDashboardHeader").style.display = "none";
};

function BHGoalsMonthlyHide() {
document.getElementById("BHGoalsHeaderText2").style.display = "none";
document.getElementById("bhgoals-thismonth-labelbox12").style.display = "none";
document.getElementById("bhgoals-thismonth-12").style.display = "none";
document.getElementById("bhgoals-thismonth-22").style.display = "none";
document.getElementById("bhgoals-thismonth-32").style.display = "none";
document.getElementById("bhgoals-thismonth-42").style.display = "none";
document.getElementById("bhgoals-thismonth-52").style.display = "none";
document.getElementById("bhgoals-thismonth-62").style.display = "none";
document.getElementById("bhgoals-thismonth-72").style.display = "none";
document.getElementById("bhgoals-thismonth-82").style.display = "none";
document.getElementById("CustomerHeader2").style.display = "none";
document.getElementById("DealerHeader2").style.display = "none";
document.getElementById("bhgoals-thismonth-labelbox22").style.display = "none";
};

function cpGoalsMonthlyHide() {
document.getElementById("cpGoalsHeaderText2").style.display = "none";
document.getElementById("cpgoals-thismonth-labelbox12").style.display = "none";
document.getElementById("cpgoals-thismonth-12").style.display = "none";
document.getElementById("cpgoals-thismonth-22").style.display = "none";
document.getElementById("cpgoals-thismonth-32").style.display = "none";
document.getElementById("cpgoals-thismonth-42").style.display = "none";
document.getElementById("cpgoals-thismonth-52").style.display = "none";
document.getElementById("cpgoals-thismonth-62").style.display = "none";
document.getElementById("cpgoals-thismonth-72").style.display = "none";
document.getElementById("cpgoals-thismonth-82").style.display = "none";
document.getElementById("cptransactions12").style.display = "none";
document.getElementById("cpupdated22").style.display = "none";
document.getElementById("cpgoals-thismonth-labelbox22").style.display = "none";
};

function getMonth(){
var monthNames = ["January", "February", "March", "April", "May","June","July", "August", "September", "October", "November","December"]
var d = new Date();
var currentMonth = monthNames[d.getMonth()];
var currentMonthYear = monthNames[d.getMonth()] +" "+ d.getFullYear();
document.getElementById("currentMonth").innerHTML = currentMonth;
document.getElementById("currentMonthYear").innerHTML = currentMonthYear;
document.getElementById("BHGoalsHeaderText").innerHTML="Blackhorse.co.uk Goals - "+currentMonthYear;
document.getElementById("cpGoalsHeaderText").innerHTML="Customer Portal Goals - "+currentMonthYear;
};

function VisitsTodayCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/custvisits-today?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");

xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "www.blackhorse.co.uk";
    var chars = url.length+34;
    var todaydata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));

    var todaytotal = +visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.blackhorse.co.uk";
    var chars = url.length+34;
    var yesterdaydata = visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 35).join(url).length+chars).substr(0, visits.substring(visits.split(url, 35).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 45).join(url).length+chars).substr(0, visits.substring(visits.split(url, 45).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'));

    var yesterdaytotal = +visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 35).join(url).length+chars).substr(0, visits.substring(visits.split(url, 35).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 45).join(url).length+chars).substr(0, visits.substring(visits.split(url, 45).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'));


    //console.log(visits);  
    //console.log("todaydata - "+todaydata);
    //console.log("yesterdaydata - "+yesterdaydata);
    document.getElementById("visitsTodayTodayData").innerHTML = todaydata;
    document.getElementById("visitsTodayYesterdayData").innerHTML = yesterdaydata;
    document.getElementById("visitsTodayTodayTotal").innerHTML = todaytotal.toLocaleString();
    document.getElementById("visitsTodayYesterdayTotal").innerHTML = yesterdaytotal.toLocaleString();

    VisitsTodayContainer();
    VisitsTodayContainerHide();

    DealerPagesCall();
    }
}


xmlhttp.send();
    setTimeout(function () {
    VisitsTodayCall();
    }, 300000);
}




function VisitsTodayContainer(){


Highcharts.chart('VisitsTodayContainer', {
    chart: {
        type: 'column'
    },
    credits: false,
    title: {
        text: 'Visits to Blackhorse.co.uk Today',
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
            legend: {
          borderRadius:0,
            backgroundColor: '#FFFFFF',
            itemMarginBottom: 7,
            layout: 'vertical',
            enabled: true,
            align: 'blahblah', //dunno why but removing this defaults it to top, crap value overlays it
            verticalAlign: 'top',                
            y: 130,
            x: 100,
            borderWidth: 0,
            width:210,
            symbolPadding: 10,
            useHTML:true,
            shadow: {
              color: '#000',
              width: 3,
              opacity: 0.15,
              offsetY: 2,
              offsetX: 1
            },
            labelFormatter: function() {
              return '<div class="' + this.name + '-arrow"></div><span style="font-family: \'Advent Pro\', sans-serif; font-size:20px">' + this.name +'</span><br/><span style="font-size:16px; color:#ababaa">(Total: ' + this.options.total + ')</span>';
        }

        },
    xAxis: {
        categories: ['12am','1am','2am','3am','4am','5am','6am','7am','8am','9am','10am','11am','12pm','1pm','2pm','3pm','4pm','5pm','6pm','7pm','8pm','9pm','10pm','11pm'],

        crosshair: true,
                labels: {
            style: {
                fontSize: '16px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true        
    },
    plotOptions: {
        series: {
            animation: false
        }
    },



    series: [
    {
        name: 'Today',
        total: document.getElementById("visitsTodayTodayTotal").innerHTML.toLocaleString(), //toLocaleString adds a comma for 1000s
        data: JSON.parse("[" + document.getElementById("visitsTodayTodayData").innerHTML + "]"),
    },
    {
        name: 'Yesterday',
        total: document.getElementById("visitsTodayYesterdayTotal").innerHTML.toLocaleString(),
        data: JSON.parse("[" + document.getElementById("visitsTodayYesterdayData").innerHTML + "]"),
        color: '#af6767'
    }
    ]

})};


function VisitsTodayContainerHide(){

Highcharts.chart('VisitsTodayContainerHide', {
    chart: {
        type: 'column'
    },
    credits: false,
    tooltip: false,
    exporting: { enabled: false },
    title: {
        text: 'Visits to Blackhorse.co.uk',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
            legend: {
            enabled: false,

        },
    xAxis: {
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    yAxis: {
        min: 0,
        endOnTick: false,
        title: {
            style: {
                fontSize: '0px'
            }
        },
        labels: {
            style: {
                fontSize: '0px'
            }
        },
    },
    plotOptions: {
        series: {
            animation: false
        }
    },

    series: [
    {
        name: 'Today',
        total: document.getElementById("visitsTodayTodayTotal").innerHTML.toLocaleString(), //toLocaleString adds a comma for 1000s
        data: JSON.parse("[" + document.getElementById("visitsTodayTodayData").innerHTML + "]"),
    },
    {
        name: 'Yesterday',
        total: document.getElementById("visitsTodayYesterdayTotal").innerHTML.toLocaleString(),
        data: JSON.parse("[" + document.getElementById("visitsTodayYesterdayData").innerHTML + "]"),
        color: '#af6767'
    }
    ]

})};



//------------------------------------------Dealer Page Views -------------------------------------------------------------



function DealerPagesCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/dealerpages-today?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "2018</td>";
    var chars = url.length+24;
    var pagename1 = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'));
    var pagename2 = visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var pagename3 = visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var pagename4 = visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));
    var pagename5 = visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var pagename6 = visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var pagename7 = visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var pagename8 = visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'));
    var pagename9 = visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var pagename10 = visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'));
    var pagename11 = visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var pagename12 = visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'));
    var pagename13 = visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));
    var pagename14 = visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'));
    var pagename15 = visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'));


    var url = "</td><td>";
    var chars = url.length;
    var pagedata1 = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var pagedata2 = +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var pagedata3 = +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var pagedata4 = +visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var pagedata5 = +visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var pagedata6 = +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));
    var pagedata7 = +visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'));
    var pagedata8 = +visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));
    var pagedata9 = +visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'));
    var pagedata10 = +visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'));
    var pagedata11 = +visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'));
    var pagedata12 = +visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'));
    var pagedata13 = +visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'));
    var pagedata14 = +visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'));
    var pagedata15 = +visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'));

    //console.log(visits);
    document.getElementById("dealerpagename1").innerHTML = pagename1;
    document.getElementById("dealerpagename2").innerHTML = pagename2;
    document.getElementById("dealerpagename3").innerHTML = pagename3;
    document.getElementById("dealerpagename4").innerHTML = pagename4;
    document.getElementById("dealerpagename5").innerHTML = pagename5;
    document.getElementById("dealerpagename6").innerHTML = pagename6;
    document.getElementById("dealerpagename7").innerHTML = pagename7;
    document.getElementById("dealerpagename8").innerHTML = pagename8;
    document.getElementById("dealerpagename9").innerHTML = pagename9;
    document.getElementById("dealerpagename10").innerHTML = pagename10;
    document.getElementById("dealerpagename11").innerHTML = pagename11;
    document.getElementById("dealerpagename12").innerHTML = pagename12;
    document.getElementById("dealerpagename13").innerHTML = pagename13;
    document.getElementById("dealerpagename14").innerHTML = pagename14;
    document.getElementById("dealerpagename15").innerHTML = pagename15;

    document.getElementById("dealerpagedata1").innerHTML = pagedata1;
    document.getElementById("dealerpagedata2").innerHTML = pagedata2;
    document.getElementById("dealerpagedata3").innerHTML = pagedata3;
    document.getElementById("dealerpagedata4").innerHTML = pagedata4;
    document.getElementById("dealerpagedata5").innerHTML = pagedata5;
    document.getElementById("dealerpagedata6").innerHTML = pagedata6;
    document.getElementById("dealerpagedata7").innerHTML = pagedata7;
    document.getElementById("dealerpagedata8").innerHTML = pagedata8;
    document.getElementById("dealerpagedata9").innerHTML = pagedata9;
    document.getElementById("dealerpagedata10").innerHTML = pagedata10;
    document.getElementById("dealerpagedata11").innerHTML = pagedata11;
    document.getElementById("dealerpagedata12").innerHTML = pagedata12;
    document.getElementById("dealerpagedata13").innerHTML = pagedata13;
    document.getElementById("dealerpagedata14").innerHTML = pagedata14;
    document.getElementById("dealerpagedata15").innerHTML = pagedata15;

    DealerPageViewsContainer();
    DealerPageViewsContainerHide();

    SiteSearchCall();

    }
}


xmlhttp.send();

}



function DealerPageViewsContainer(){

Highcharts.chart('DealerPageViewsContainer', {
    colorAxis: {
        minColor: '#FFFFFF',
        maxColor: Highcharts.getOptions().colors[0],
        width: 2000

    },
    credits: false,
    series: [{
        type: 'treemap',
        layoutAlgorithm: 'squarified',
        data: [{
            name: document.getElementById("dealerpagename1").innerHTML,
            value: +document.getElementById("dealerpagedata1").innerHTML,
            colorValue: +document.getElementById("dealerpagedata1").innerHTML,
        },{
            name: document.getElementById("dealerpagename2").innerHTML,
            value: +document.getElementById("dealerpagedata2").innerHTML,
            colorValue: +document.getElementById("dealerpagedata2").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename3").innerHTML,
            value: +document.getElementById("dealerpagedata3").innerHTML,
            colorValue: +document.getElementById("dealerpagedata3").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename4").innerHTML,
            value: +document.getElementById("dealerpagedata4").innerHTML,
            colorValue: +document.getElementById("dealerpagedata4").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename5").innerHTML,
            value: +document.getElementById("dealerpagedata5").innerHTML,
            colorValue: +document.getElementById("dealerpagedata5").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename6").innerHTML,
            value: +document.getElementById("dealerpagedata6").innerHTML,
            colorValue: +document.getElementById("dealerpagedata6").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename7").innerHTML,
            value: +document.getElementById("dealerpagedata7").innerHTML,
            colorValue: +document.getElementById("dealerpagedata7").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename8").innerHTML,
            value: +document.getElementById("dealerpagedata8").innerHTML,
            colorValue: +document.getElementById("dealerpagedata8").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename9").innerHTML,
            value: +document.getElementById("dealerpagedata9").innerHTML,
            colorValue: +document.getElementById("dealerpagedata9").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename10").innerHTML,
            value: +document.getElementById("dealerpagedata10").innerHTML,
            colorValue: +document.getElementById("dealerpagedata10").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename11").innerHTML,
            value: +document.getElementById("dealerpagedata11").innerHTML,
            colorValue: +document.getElementById("dealerpagedata11").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename12").innerHTML,
            value: +document.getElementById("dealerpagedata12").innerHTML,
            colorValue: +document.getElementById("dealerpagedata12").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename13").innerHTML,
            value: +document.getElementById("dealerpagedata13").innerHTML,
            colorValue: +document.getElementById("dealerpagedata13").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename14").innerHTML,
            value: +document.getElementById("dealerpagedata14").innerHTML,
            colorValue: +document.getElementById("dealerpagedata14").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename15").innerHTML,
            value: +document.getElementById("dealerpagedata15").innerHTML,
            colorValue: +document.getElementById("dealerpagedata15").innerHTML*2,
        }
        ]
    }],
    plotOptions: {
        series: {
            animation: false,
                dataLabels: {
                enabled: true,
                style: {
                    fontSize: '15px'
                }
            }
        }
    },
    title: {
        text: 'Page Views by Dealers Today',
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    }
})};



function DealerPageViewsContainerHide(){

Highcharts.chart('DealerPageViewsContainerHide', {
    colorAxis: {
        minColor: '#FFFFFF',
        maxColor: Highcharts.getOptions().colors[0],
    },
    tooltip: false,
    exporting: { enabled: false },
    credits: false,
    series: [{
        type: 'treemap',
        layoutAlgorithm: 'squarified',
        data: [{
            name: document.getElementById("dealerpagename1").innerHTML,
            value: +document.getElementById("dealerpagedata1").innerHTML,
            colorValue: +document.getElementById("dealerpagedata1").innerHTML,
        },{
            name: document.getElementById("dealerpagename2").innerHTML,
            value: +document.getElementById("dealerpagedata2").innerHTML,
            colorValue: +document.getElementById("dealerpagedata2").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename3").innerHTML,
            value: +document.getElementById("dealerpagedata3").innerHTML,
            colorValue: +document.getElementById("dealerpagedata3").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename4").innerHTML,
            value: +document.getElementById("dealerpagedata4").innerHTML,
            colorValue: +document.getElementById("dealerpagedata4").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename5").innerHTML,
            value: +document.getElementById("dealerpagedata5").innerHTML,
            colorValue: +document.getElementById("dealerpagedata5").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename6").innerHTML,
            value: +document.getElementById("dealerpagedata6").innerHTML,
            colorValue: +document.getElementById("dealerpagedata6").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename7").innerHTML,
            value: +document.getElementById("dealerpagedata7").innerHTML,
            colorValue: +document.getElementById("dealerpagedata7").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename8").innerHTML,
            value: +document.getElementById("dealerpagedata8").innerHTML,
            colorValue: +document.getElementById("dealerpagedata8").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename9").innerHTML,
            value: +document.getElementById("dealerpagedata9").innerHTML,
            colorValue: +document.getElementById("dealerpagedata9").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename10").innerHTML,
            value: +document.getElementById("dealerpagedata10").innerHTML,
            colorValue: +document.getElementById("dealerpagedata10").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename11").innerHTML,
            value: +document.getElementById("dealerpagedata11").innerHTML,
            colorValue: +document.getElementById("dealerpagedata11").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename12").innerHTML,
            value: +document.getElementById("dealerpagedata12").innerHTML,
            colorValue: +document.getElementById("dealerpagedata12").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename13").innerHTML,
            value: +document.getElementById("dealerpagedata13").innerHTML,
            colorValue: +document.getElementById("dealerpagedata13").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename14").innerHTML,
            value: +document.getElementById("dealerpagedata14").innerHTML,
            colorValue: +document.getElementById("dealerpagedata14").innerHTML*2,
        },{
            name: document.getElementById("dealerpagename15").innerHTML,
            value: +document.getElementById("dealerpagedata15").innerHTML,
            colorValue: +document.getElementById("dealerpagedata15").innerHTML*2,
        }
        ]
    }],
    plotOptions: {
        series: {
            animation: false,
                dataLabels: {
                enabled: true,
                style: {
                    fontSize: '1px'
                }
            }
        }
    },
    title: {
        text: 'Page Views by Dealers',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    }
})};


//----------------------------------On Site Search------------------------------------------------------//


function SiteSearchCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/oss-today?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    //console.log(visits);

    var url = "2018</td>";
    var chars = url.length+4;
    var word1 = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'));
    var word2 = visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var word3 = visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var word4 = visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));
    var word5 = visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var word6 = visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var word7 = visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var word8 = visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'));
    var word9 = visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var word10 = visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'));
    var word11 = visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var word12 = visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'));
    var word13 = visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));
    var word14 = visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'));
    var word15 = visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'));
    var word16 = visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'));
    var word17 = visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));
    var word18 = visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'));
    var word19 = visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'));
    var word20 = visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'));
    var word21 = visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'));
    var word22 = visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'));
    var word23 = visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'));
    var word24 = visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));
    var word25 = visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'));
    var word26 = visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'));
    var word27 = visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'));
    var word28 = visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'));
    var word29 = visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'));
    var word30 = visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'));
    var word31 = visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'));
    var word32 = visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'));
    var word33 = visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'));
    var word34 = visits.substring(visits.split(url, 35).join(url).length+chars).substr(0, visits.substring(visits.split(url, 35).join(url).length+chars).indexOf('</td>'));
    var word35 = visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'));
    var word36 = visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'));
    var word37 = visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'));
    var word38 = visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'));
    var word39 = visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'));
    var word40 = visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'));
    var word41 = visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'));
    var word42 = visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'));
    var word43 = visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'));
    var word44 = visits.substring(visits.split(url, 45).join(url).length+chars).substr(0, visits.substring(visits.split(url, 45).join(url).length+chars).indexOf('</td>'));
    var word45 = visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'));
    var word46 = visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'));
    var word47 = visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'));
    var word48 = visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'));
    var word49 = visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'));
    var word50 = visits.substring(visits.split(url, 51).join(url).length+chars).substr(0, visits.substring(visits.split(url, 51).join(url).length+chars).indexOf('</td>'));
    var word51 = visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'));
    var word52 = visits.substring(visits.split(url, 53).join(url).length+chars).substr(0, visits.substring(visits.split(url, 53).join(url).length+chars).indexOf('</td>'));
    var word53 = visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'));
    var word54 = visits.substring(visits.split(url, 55).join(url).length+chars).substr(0, visits.substring(visits.split(url, 55).join(url).length+chars).indexOf('</td>'));
    var word55 = visits.substring(visits.split(url, 56).join(url).length+chars).substr(0, visits.substring(visits.split(url, 56).join(url).length+chars).indexOf('</td>'));
    var word56 = visits.substring(visits.split(url, 57).join(url).length+chars).substr(0, visits.substring(visits.split(url, 57).join(url).length+chars).indexOf('</td>'));

    var url = "</td><td>";
    var chars = url.length;
    var data1 = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var data2 = +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var data3 = +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var data4 = +visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var data5 = +visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var data6 = +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));
    var data7 = +visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'));
    var data8 = +visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));
    var data9 = +visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'));
    var data10 = +visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'));
    var data11 = +visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'));
    var data12 = +visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'));
    var data13 = +visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'));
    var data14 = +visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'));
    var data15 = +visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'));
    var data16 = +visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'));
    var data17 = +visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'));
    var data18 = +visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'));
    var data19 = +visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'));
    var data20 = +visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'));
    var data21 = +visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'));
    var data22 = +visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'));
    var data23 = +visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'));
    var data24 = +visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'));
    var data25 = +visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'));
    var data26 = +visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'));
    var data27 = +visits.substring(visits.split(url, 56).join(url).length+chars).substr(0, visits.substring(visits.split(url, 56).join(url).length+chars).indexOf('</td>'));
    var data28 = +visits.substring(visits.split(url, 58).join(url).length+chars).substr(0, visits.substring(visits.split(url, 58).join(url).length+chars).indexOf('</td>'));
    var data29 = +visits.substring(visits.split(url, 60).join(url).length+chars).substr(0, visits.substring(visits.split(url, 60).join(url).length+chars).indexOf('</td>'));
    var data30 = +visits.substring(visits.split(url, 62).join(url).length+chars).substr(0, visits.substring(visits.split(url, 62).join(url).length+chars).indexOf('</td>'));
    var data31 = +visits.substring(visits.split(url, 64).join(url).length+chars).substr(0, visits.substring(visits.split(url, 64).join(url).length+chars).indexOf('</td>'));
    var data32 = +visits.substring(visits.split(url, 66).join(url).length+chars).substr(0, visits.substring(visits.split(url, 66).join(url).length+chars).indexOf('</td>'));
    var data33 = +visits.substring(visits.split(url, 68).join(url).length+chars).substr(0, visits.substring(visits.split(url, 68).join(url).length+chars).indexOf('</td>'));
    var data34 = +visits.substring(visits.split(url, 70).join(url).length+chars).substr(0, visits.substring(visits.split(url, 70).join(url).length+chars).indexOf('</td>'));
    var data35 = +visits.substring(visits.split(url, 72).join(url).length+chars).substr(0, visits.substring(visits.split(url, 72).join(url).length+chars).indexOf('</td>'));
    var data36 = +visits.substring(visits.split(url, 74).join(url).length+chars).substr(0, visits.substring(visits.split(url, 74).join(url).length+chars).indexOf('</td>'));
    var data37 = +visits.substring(visits.split(url, 76).join(url).length+chars).substr(0, visits.substring(visits.split(url, 76).join(url).length+chars).indexOf('</td>'));
    var data38 = +visits.substring(visits.split(url, 78).join(url).length+chars).substr(0, visits.substring(visits.split(url, 78).join(url).length+chars).indexOf('</td>'));
    var data39 = +visits.substring(visits.split(url, 80).join(url).length+chars).substr(0, visits.substring(visits.split(url, 80).join(url).length+chars).indexOf('</td>'));
    var data40 = +visits.substring(visits.split(url, 82).join(url).length+chars).substr(0, visits.substring(visits.split(url, 82).join(url).length+chars).indexOf('</td>'));
    var data41 = +visits.substring(visits.split(url, 84).join(url).length+chars).substr(0, visits.substring(visits.split(url, 84).join(url).length+chars).indexOf('</td>'));
    var data42 = +visits.substring(visits.split(url, 86).join(url).length+chars).substr(0, visits.substring(visits.split(url, 86).join(url).length+chars).indexOf('</td>'));
    var data43 = +visits.substring(visits.split(url, 88).join(url).length+chars).substr(0, visits.substring(visits.split(url, 88).join(url).length+chars).indexOf('</td>'));
    var data44 = +visits.substring(visits.split(url, 90).join(url).length+chars).substr(0, visits.substring(visits.split(url, 90).join(url).length+chars).indexOf('</td>'));
    var data45 = +visits.substring(visits.split(url, 92).join(url).length+chars).substr(0, visits.substring(visits.split(url, 92).join(url).length+chars).indexOf('</td>'));
    var data46 = +visits.substring(visits.split(url, 94).join(url).length+chars).substr(0, visits.substring(visits.split(url, 94).join(url).length+chars).indexOf('</td>'));
    var data47 = +visits.substring(visits.split(url, 96).join(url).length+chars).substr(0, visits.substring(visits.split(url, 96).join(url).length+chars).indexOf('</td>'));
    var data48 = +visits.substring(visits.split(url, 98).join(url).length+chars).substr(0, visits.substring(visits.split(url, 98).join(url).length+chars).indexOf('</td>'));
    var data49 = +visits.substring(visits.split(url, 100).join(url).length+chars).substr(0, visits.substring(visits.split(url, 100).join(url).length+chars).indexOf('</td>'));
    var data50 = +visits.substring(visits.split(url, 102).join(url).length+chars).substr(0, visits.substring(visits.split(url, 102).join(url).length+chars).indexOf('</td>'));
    var data51 = +visits.substring(visits.split(url, 104).join(url).length+chars).substr(0, visits.substring(visits.split(url, 104).join(url).length+chars).indexOf('</td>'));
    var data52 = +visits.substring(visits.split(url, 106).join(url).length+chars).substr(0, visits.substring(visits.split(url, 106).join(url).length+chars).indexOf('</td>'));
    var data53 = +visits.substring(visits.split(url, 108).join(url).length+chars).substr(0, visits.substring(visits.split(url, 108).join(url).length+chars).indexOf('</td>'));
    var data54 = +visits.substring(visits.split(url, 110).join(url).length+chars).substr(0, visits.substring(visits.split(url, 110).join(url).length+chars).indexOf('</td>'));
    var data55 = +visits.substring(visits.split(url, 112).join(url).length+chars).substr(0, visits.substring(visits.split(url, 112).join(url).length+chars).indexOf('</td>'));
    var data56 = +visits.substring(visits.split(url, 114).join(url).length+chars).substr(0, visits.substring(visits.split(url, 114).join(url).length+chars).indexOf('</td>'));

    document.getElementById("ossdata1").innerHTML = data1;document.getElementById("ossdata2").innerHTML = data2;document.getElementById("ossdata3").innerHTML = data3;
    document.getElementById("ossdata4").innerHTML = data4;document.getElementById("ossdata5").innerHTML = data5;document.getElementById("ossdata6").innerHTML = data6;
    document.getElementById("ossdata7").innerHTML = data7;document.getElementById("ossdata8").innerHTML = data8;document.getElementById("ossdata9").innerHTML = data9;
    document.getElementById("ossdata10").innerHTML = data10;document.getElementById("ossdata11").innerHTML = data11;document.getElementById("ossdata12").innerHTML = data12;
    document.getElementById("ossdata13").innerHTML = data13;document.getElementById("ossdata14").innerHTML = data14;document.getElementById("ossdata15").innerHTML = data15;
    document.getElementById("ossdata16").innerHTML = data16;document.getElementById("ossdata17").innerHTML = data17;document.getElementById("ossdata18").innerHTML = data18;
    document.getElementById("ossdata19").innerHTML = data19;document.getElementById("ossdata20").innerHTML = data20;document.getElementById("ossdata21").innerHTML = data21;
    document.getElementById("ossdata22").innerHTML = data22;document.getElementById("ossdata23").innerHTML = data23;document.getElementById("ossdata24").innerHTML = data24;
    document.getElementById("ossdata25").innerHTML = data25;document.getElementById("ossdata26").innerHTML = data26;document.getElementById("ossdata27").innerHTML = data27;
    document.getElementById("ossdata28").innerHTML = data28;document.getElementById("ossdata29").innerHTML = data29;document.getElementById("ossdata30").innerHTML = data30;
    document.getElementById("ossdata31").innerHTML = data31;document.getElementById("ossdata32").innerHTML = data32;document.getElementById("ossdata33").innerHTML = data33;
    document.getElementById("ossdata34").innerHTML = data34;document.getElementById("ossdata35").innerHTML = data35;document.getElementById("ossdata36").innerHTML = data36;
    document.getElementById("ossdata37").innerHTML = data37;document.getElementById("ossdata38").innerHTML = data38;document.getElementById("ossdata39").innerHTML = data39;
    document.getElementById("ossdata40").innerHTML = data40;document.getElementById("ossdata41").innerHTML = data41;document.getElementById("ossdata42").innerHTML = data42;
    document.getElementById("ossdata43").innerHTML = data43;document.getElementById("ossdata44").innerHTML = data44;document.getElementById("ossdata45").innerHTML = data45;
    document.getElementById("ossdata46").innerHTML = data46;document.getElementById("ossdata47").innerHTML = data47;document.getElementById("ossdata48").innerHTML = data48;
    document.getElementById("ossdata49").innerHTML = data49;document.getElementById("ossdata50").innerHTML = data50;document.getElementById("ossdata51").innerHTML = data51;
    document.getElementById("ossdata52").innerHTML = data52;document.getElementById("ossdata53").innerHTML = data53;document.getElementById("ossdata54").innerHTML = data54;
    document.getElementById("ossdata55").innerHTML = data55;document.getElementById("ossdata56").innerHTML = data56;

    document.getElementById("ossword1").innerHTML = word1.substring(0,50);document.getElementById("ossword2").innerHTML = word2.substring(0,50);
    document.getElementById("ossword3").innerHTML = word3.substring(0,50);document.getElementById("ossword4").innerHTML = word4.substring(0,50);
    document.getElementById("ossword5").innerHTML = word5.substring(0,50);document.getElementById("ossword6").innerHTML = word6.substring(0,50);
    document.getElementById("ossword7").innerHTML = word7.substring(0,50);document.getElementById("ossword8").innerHTML = word8.substring(0,50);
    document.getElementById("ossword9").innerHTML = word9.substring(0,50);document.getElementById("ossword10").innerHTML = word10.substring(0,50);
    document.getElementById("ossword11").innerHTML = word11.substring(0,50);document.getElementById("ossword12").innerHTML = word12.substring(0,50);
    document.getElementById("ossword13").innerHTML = word13.substring(0,50);document.getElementById("ossword14").innerHTML = word14.substring(0,50);
    document.getElementById("ossword15").innerHTML = word15.substring(0,50);document.getElementById("ossword16").innerHTML = word16.substring(0,50);
    document.getElementById("ossword17").innerHTML = word17.substring(0,50);document.getElementById("ossword18").innerHTML = word18.substring(0,50);
    document.getElementById("ossword19").innerHTML = word19.substring(0,50);document.getElementById("ossword20").innerHTML = word20.substring(0,50);
    document.getElementById("ossword21").innerHTML = word21.substring(0,50);document.getElementById("ossword22").innerHTML = word22.substring(0,50);
    document.getElementById("ossword23").innerHTML = word23.substring(0,50);document.getElementById("ossword24").innerHTML = word24.substring(0,50);
    document.getElementById("ossword25").innerHTML = word25.substring(0,50);document.getElementById("ossword26").innerHTML = word26.substring(0,50);
    document.getElementById("ossword27").innerHTML = word27.substring(0,50);document.getElementById("ossword28").innerHTML = word28.substring(0,50);
    document.getElementById("ossword29").innerHTML = word29.substring(0,50);document.getElementById("ossword30").innerHTML = word30.substring(0,50);
    document.getElementById("ossword31").innerHTML = word31.substring(0,50);document.getElementById("ossword32").innerHTML = word32.substring(0,50);
    document.getElementById("ossword33").innerHTML = word33.substring(0,50);document.getElementById("ossword34").innerHTML = word34.substring(0,50);
    document.getElementById("ossword35").innerHTML = word35.substring(0,50);document.getElementById("ossword36").innerHTML = word36.substring(0,50);
    document.getElementById("ossword37").innerHTML = word37.substring(0,50);document.getElementById("ossword38").innerHTML = word38.substring(0,50);
    document.getElementById("ossword39").innerHTML = word39.substring(0,50);document.getElementById("ossword40").innerHTML = word40.substring(0,50);
    document.getElementById("ossword41").innerHTML = word41.substring(0,50);document.getElementById("ossword42").innerHTML = word42.substring(0,50);
    document.getElementById("ossword43").innerHTML = word43.substring(0,50);document.getElementById("ossword44").innerHTML = word44.substring(0,50);
    document.getElementById("ossword45").innerHTML = word45.substring(0,50);document.getElementById("ossword46").innerHTML = word46.substring(0,50);
    document.getElementById("ossword47").innerHTML = word47.substring(0,50);document.getElementById("ossword48").innerHTML = word48.substring(0,50);
    document.getElementById("ossword49").innerHTML = word49.substring(0,50);document.getElementById("ossword50").innerHTML = word50.substring(0,50);
    document.getElementById("ossword51").innerHTML = word51.substring(0,50);document.getElementById("ossword52").innerHTML = word52.substring(0,50);
    document.getElementById("ossword53").innerHTML = word53.substring(0,50);document.getElementById("ossword54").innerHTML = word54.substring(0,50);
    document.getElementById("ossword55").innerHTML = word55.substring(0,50);document.getElementById("ossword56").innerHTML = word56.substring(0,50);

    SiteSearchContainer();
    SiteSearchContainerHide();

    OCFCall();

    }
}


xmlhttp.send();

}



function SiteSearchContainer(){

Highcharts.chart('SiteSearchContainer', {
    series: [{
        type: 'wordcloud',
        name: 'Searches',
        data: [{name: document.getElementById("ossword1").innerHTML, weight: document.getElementById("ossdata1").innerHTML,}, 
            {name: document.getElementById("ossword2").innerHTML,weight: document.getElementById("ossdata2").innerHTML},
            {name: document.getElementById("ossword3").innerHTML,weight: document.getElementById("ossdata3").innerHTML},
            {name: document.getElementById("ossword4").innerHTML,weight: document.getElementById("ossdata4").innerHTML},
            {name: document.getElementById("ossword5").innerHTML,weight: document.getElementById("ossdata5").innerHTML},
            {name: document.getElementById("ossword6").innerHTML,weight: document.getElementById("ossdata6").innerHTML},
            {name: document.getElementById("ossword7").innerHTML,weight: document.getElementById("ossdata7").innerHTML},
            {name: document.getElementById("ossword8").innerHTML,weight: document.getElementById("ossdata8").innerHTML},
            {name: document.getElementById("ossword9").innerHTML,weight: document.getElementById("ossdata9").innerHTML},
            {name: document.getElementById("ossword10").innerHTML,weight: document.getElementById("ossdata10").innerHTML},
            {name: document.getElementById("ossword11").innerHTML,weight: document.getElementById("ossdata11").innerHTML},
            {name: document.getElementById("ossword12").innerHTML,weight: document.getElementById("ossdata12").innerHTML},
            {name: document.getElementById("ossword13").innerHTML,weight: document.getElementById("ossdata13").innerHTML},
            {name: document.getElementById("ossword14").innerHTML,weight: document.getElementById("ossdata14").innerHTML},
            {name: document.getElementById("ossword15").innerHTML,weight: document.getElementById("ossdata15").innerHTML},
            {name: document.getElementById("ossword16").innerHTML,weight: document.getElementById("ossdata16").innerHTML},
            {name: document.getElementById("ossword17").innerHTML,weight: document.getElementById("ossdata17").innerHTML},
            {name: document.getElementById("ossword18").innerHTML,weight: document.getElementById("ossdata18").innerHTML},
            {name: document.getElementById("ossword19").innerHTML,weight: document.getElementById("ossdata19").innerHTML},
            {name: document.getElementById("ossword20").innerHTML,weight: document.getElementById("ossdata20").innerHTML},
            {name: document.getElementById("ossword21").innerHTML,weight: document.getElementById("ossdata21").innerHTML},
            {name: document.getElementById("ossword22").innerHTML,weight: document.getElementById("ossdata22").innerHTML},
            {name: document.getElementById("ossword23").innerHTML,weight: document.getElementById("ossdata23").innerHTML},
            {name: document.getElementById("ossword24").innerHTML,weight: document.getElementById("ossdata24").innerHTML},
            {name: document.getElementById("ossword25").innerHTML,weight: document.getElementById("ossdata25").innerHTML},
            {name: document.getElementById("ossword26").innerHTML,weight: document.getElementById("ossdata26").innerHTML},
            {name: document.getElementById("ossword27").innerHTML,weight: document.getElementById("ossdata27").innerHTML},
            {name: document.getElementById("ossword28").innerHTML,weight: document.getElementById("ossdata28").innerHTML},
            {name: document.getElementById("ossword29").innerHTML,weight: document.getElementById("ossdata29").innerHTML},
            {name: document.getElementById("ossword30").innerHTML,weight: document.getElementById("ossdata30").innerHTML},
            {name: document.getElementById("ossword31").innerHTML,weight: document.getElementById("ossdata31").innerHTML},
            {name: document.getElementById("ossword32").innerHTML,weight: document.getElementById("ossdata32").innerHTML},
            {name: document.getElementById("ossword33").innerHTML,weight: document.getElementById("ossdata33").innerHTML},
            {name: document.getElementById("ossword34").innerHTML,weight: document.getElementById("ossdata34").innerHTML},
            {name: document.getElementById("ossword35").innerHTML,weight: document.getElementById("ossdata35").innerHTML},
            {name: document.getElementById("ossword36").innerHTML,weight: document.getElementById("ossdata36").innerHTML},
            {name: document.getElementById("ossword37").innerHTML,weight: document.getElementById("ossdata37").innerHTML},
            {name: document.getElementById("ossword38").innerHTML,weight: document.getElementById("ossdata38").innerHTML},
            {name: document.getElementById("ossword39").innerHTML,weight: document.getElementById("ossdata39").innerHTML},
            {name: document.getElementById("ossword40").innerHTML,weight: document.getElementById("ossdata40").innerHTML},
            {name: document.getElementById("ossword41").innerHTML,weight: document.getElementById("ossdata41").innerHTML},
            {name: document.getElementById("ossword42").innerHTML,weight: document.getElementById("ossdata42").innerHTML},
            {name: document.getElementById("ossword43").innerHTML,weight: document.getElementById("ossdata43").innerHTML},
            {name: document.getElementById("ossword44").innerHTML,weight: document.getElementById("ossdata44").innerHTML},
            {name: document.getElementById("ossword45").innerHTML,weight: document.getElementById("ossdata45").innerHTML},
            {name: document.getElementById("ossword46").innerHTML,weight: document.getElementById("ossdata46").innerHTML},
            {name: document.getElementById("ossword47").innerHTML,weight: document.getElementById("ossdata47").innerHTML},
            {name: document.getElementById("ossword48").innerHTML,weight: document.getElementById("ossdata48").innerHTML},
            {name: document.getElementById("ossword49").innerHTML,weight: document.getElementById("ossdata49").innerHTML},
            {name: document.getElementById("ossword50").innerHTML,weight: document.getElementById("ossdata50").innerHTML},
            {name: document.getElementById("ossword51").innerHTML,weight: document.getElementById("ossdata51").innerHTML},
            {name: document.getElementById("ossword52").innerHTML,weight: document.getElementById("ossdata52").innerHTML},
            {name: document.getElementById("ossword53").innerHTML,weight: document.getElementById("ossdata53").innerHTML},
            {name: document.getElementById("ossword54").innerHTML,weight: document.getElementById("ossdata54").innerHTML},
            {name: document.getElementById("ossword55").innerHTML,weight: document.getElementById("ossdata55").innerHTML},
            {name: document.getElementById("ossword56").innerHTML,weight: document.getElementById("ossdata56").innerHTML},
        ]
    }],
    title: {
        text: 'Blackhorse.co.uk Site Searches Today',
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    },
    tooltip: {
    enabled: true
   },
   credits: false,
    plotOptions: {
        series: {
            animation: false
        }
    },
})};



function SiteSearchContainerHide(){

Highcharts.chart('SiteSearchContainerHide', {
    series: [{
        type: 'wordcloud',
        name: 'Searches',
        data: [{name: document.getElementById("ossword1").innerHTML, weight: document.getElementById("ossdata1").innerHTML,}, 
            {name: document.getElementById("ossword2").innerHTML,weight: document.getElementById("ossdata2").innerHTML},
            {name: document.getElementById("ossword3").innerHTML,weight: document.getElementById("ossdata3").innerHTML},
            {name: document.getElementById("ossword4").innerHTML,weight: document.getElementById("ossdata4").innerHTML},
            {name: document.getElementById("ossword5").innerHTML,weight: document.getElementById("ossdata5").innerHTML},
            {name: document.getElementById("ossword6").innerHTML,weight: document.getElementById("ossdata6").innerHTML},
            {name: document.getElementById("ossword7").innerHTML,weight: document.getElementById("ossdata7").innerHTML},
            {name: document.getElementById("ossword8").innerHTML,weight: document.getElementById("ossdata8").innerHTML},
            {name: document.getElementById("ossword9").innerHTML,weight: document.getElementById("ossdata9").innerHTML},
            {name: document.getElementById("ossword10").innerHTML,weight: document.getElementById("ossdata10").innerHTML},
            {name: document.getElementById("ossword11").innerHTML,weight: document.getElementById("ossdata11").innerHTML},
            {name: document.getElementById("ossword12").innerHTML,weight: document.getElementById("ossdata12").innerHTML},
            {name: document.getElementById("ossword13").innerHTML,weight: document.getElementById("ossdata13").innerHTML},
            {name: document.getElementById("ossword14").innerHTML,weight: document.getElementById("ossdata14").innerHTML},
            {name: document.getElementById("ossword15").innerHTML,weight: document.getElementById("ossdata15").innerHTML},
            {name: document.getElementById("ossword16").innerHTML,weight: document.getElementById("ossdata16").innerHTML},
            {name: document.getElementById("ossword17").innerHTML,weight: document.getElementById("ossdata17").innerHTML},
            {name: document.getElementById("ossword18").innerHTML,weight: document.getElementById("ossdata18").innerHTML},
            {name: document.getElementById("ossword19").innerHTML,weight: document.getElementById("ossdata19").innerHTML},
            {name: document.getElementById("ossword20").innerHTML,weight: document.getElementById("ossdata20").innerHTML},
            {name: document.getElementById("ossword21").innerHTML,weight: document.getElementById("ossdata21").innerHTML},
            {name: document.getElementById("ossword22").innerHTML,weight: document.getElementById("ossdata22").innerHTML},
            {name: document.getElementById("ossword23").innerHTML,weight: document.getElementById("ossdata23").innerHTML},
            {name: document.getElementById("ossword24").innerHTML,weight: document.getElementById("ossdata24").innerHTML},
            {name: document.getElementById("ossword25").innerHTML,weight: document.getElementById("ossdata25").innerHTML},
            {name: document.getElementById("ossword26").innerHTML,weight: document.getElementById("ossdata26").innerHTML},
            {name: document.getElementById("ossword27").innerHTML,weight: document.getElementById("ossdata27").innerHTML},
            {name: document.getElementById("ossword28").innerHTML,weight: document.getElementById("ossdata28").innerHTML},
            {name: document.getElementById("ossword29").innerHTML,weight: document.getElementById("ossdata29").innerHTML},
            {name: document.getElementById("ossword30").innerHTML,weight: document.getElementById("ossdata30").innerHTML},
            {name: document.getElementById("ossword31").innerHTML,weight: document.getElementById("ossdata31").innerHTML},
            {name: document.getElementById("ossword32").innerHTML,weight: document.getElementById("ossdata32").innerHTML},
            {name: document.getElementById("ossword33").innerHTML,weight: document.getElementById("ossdata33").innerHTML},
            {name: document.getElementById("ossword34").innerHTML,weight: document.getElementById("ossdata34").innerHTML},
            {name: document.getElementById("ossword35").innerHTML,weight: document.getElementById("ossdata35").innerHTML},
            {name: document.getElementById("ossword36").innerHTML,weight: document.getElementById("ossdata36").innerHTML},
            {name: document.getElementById("ossword37").innerHTML,weight: document.getElementById("ossdata37").innerHTML},
            {name: document.getElementById("ossword38").innerHTML,weight: document.getElementById("ossdata38").innerHTML},
            {name: document.getElementById("ossword39").innerHTML,weight: document.getElementById("ossdata39").innerHTML},
            {name: document.getElementById("ossword40").innerHTML,weight: document.getElementById("ossdata40").innerHTML},
            {name: document.getElementById("ossword41").innerHTML,weight: document.getElementById("ossdata41").innerHTML},
            {name: document.getElementById("ossword42").innerHTML,weight: document.getElementById("ossdata42").innerHTML},
            {name: document.getElementById("ossword43").innerHTML,weight: document.getElementById("ossdata43").innerHTML},
            {name: document.getElementById("ossword44").innerHTML,weight: document.getElementById("ossdata44").innerHTML},
            {name: document.getElementById("ossword45").innerHTML,weight: document.getElementById("ossdata45").innerHTML},
            {name: document.getElementById("ossword46").innerHTML,weight: document.getElementById("ossdata46").innerHTML},
            {name: document.getElementById("ossword47").innerHTML,weight: document.getElementById("ossdata47").innerHTML},
            {name: document.getElementById("ossword48").innerHTML,weight: document.getElementById("ossdata48").innerHTML},
            {name: document.getElementById("ossword49").innerHTML,weight: document.getElementById("ossdata49").innerHTML},
            {name: document.getElementById("ossword50").innerHTML,weight: document.getElementById("ossdata50").innerHTML},
            {name: document.getElementById("ossword51").innerHTML,weight: document.getElementById("ossdata51").innerHTML},
            {name: document.getElementById("ossword52").innerHTML,weight: document.getElementById("ossdata52").innerHTML},
            {name: document.getElementById("ossword53").innerHTML,weight: document.getElementById("ossdata53").innerHTML},
            {name: document.getElementById("ossword54").innerHTML,weight: document.getElementById("ossdata54").innerHTML},
            {name: document.getElementById("ossword55").innerHTML,weight: document.getElementById("ossdata55").innerHTML},
            {name: document.getElementById("ossword56").innerHTML,weight: document.getElementById("ossdata56").innerHTML}
        ]
    }],
    title: {
        text: 'Blackhorse.co.uk Site Searches',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    tooltip: {
    enabled: false
   },
    exporting: { enabled: false },
   credits: false,
    plotOptions: {
        series: {
            animation: false
        }
    },
})};



//--------------------------------------------------OCF Line Graph-----------------------------------//



function OCFCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/cpvisits-today?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    //console.log(visits);

    var url = "customerportal.blackhorse.co.uk";
    var chars = url.length+34;
    var cpdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.mycarfinance.lloydsbank.com";
    var chars = url.length+34;
    var lloydsdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.mycarfinance.halifax.co.uk";
    var chars = url.length+34;
    var halifaxdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.mycarfinance.bankofscotland.co.uk";
    var chars = url.length+34;
    var bosdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "myfinance.landrover.co.uk";
    var chars = url.length+34;
    var lrdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "myfinance.jaguar.co.uk";
    var chars = url.length+34;
    var jagdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.suzukifinance.co.uk";
    var chars = url.length+34;
    var suzdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));

 
    var url = "www.internationalmotorsfinance.co.uk";
    var chars = url.length+34;
    var imfdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "financemitsubishi.co.uk";
    var chars = url.length+34;
    var mitsdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));


    var url = "www.shogunfinancialservices.co.uk";
    var chars = url.length+34;
    var shogdata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'));

    if(lloydsdata.substring(0,1)==","){var lloydsdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(halifaxdata.substring(0,1)==","){var halifaxdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(bosdata.substring(0,1)==","){var bosdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(lrdata.substring(0,1)==","){var lrdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(jagdata.substring(0,1)==","){var jagdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(suzdata.substring(0,1)==","){var suzdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(mitsdata.substring(0,1)==","){var mitsdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(shogdata.substring(0,1)==","){var shogdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};
    if(imfdata.substring(0,1)==","){var imfdata="0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"};

    document.getElementById("OCFlloydsData").innerHTML = lloydsdata;
    document.getElementById("OCFhalifaxData").innerHTML = halifaxdata;
    document.getElementById("OCFbosData").innerHTML = bosdata;
    document.getElementById("OCFlandroverData").innerHTML = lrdata;
    document.getElementById("OCFjaguarData").innerHTML = jagdata;
    document.getElementById("OCFsuzukiData").innerHTML = suzdata;
    document.getElementById("OCFmitsubishiData").innerHTML = mitsdata;
    document.getElementById("OCFshogunData").innerHTML = shogdata;
    document.getElementById("OCFimfData").innerHTML = imfdata;

    OCFContainer();
    OCFContainerHide();

    UpTrendsCall();

    }
}


xmlhttp.send();

}


function OCFContainer(){

Highcharts.chart('OCFContainer', {
    chart: {
        type: 'spline'
    },
    credits: false,
    title: {
        text: 'OCF and JV usage Today',
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    },
    legend: {
        itemStyle: {
            fontSize: '18px'
        }
    },
    xAxis: {
        categories: ['12am','1am','2am','3am','4am','5am','6am','7am','8am','9am','10am','11am','12pm','1pm','2pm','3pm','4pm','5pm','6pm','7pm','8pm','9pm','10pm','11pm'],

        crosshair: true,
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false,
            lineWidth: 5,
                marker: {
                    enabled: false
            }
        }
    },



    series: [
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("OCFlloydsData").innerHTML + "]"),
    },{
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("OCFhalifaxData").innerHTML + "]"),
    },{
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("OCFbosData").innerHTML + "]"),
    },{
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("OCFjaguarData").innerHTML + "]"),
    },{
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("OCFlandroverData").innerHTML + "]"),
    },{
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("OCFsuzukiData").innerHTML + "]"),
    },{
        name: 'Mitsubishi',
        data: JSON.parse("[" + document.getElementById("OCFmitsubishiData").innerHTML + "]"),
    },{
        name: 'Shogun',
        data: JSON.parse("[" + document.getElementById("OCFshogunData").innerHTML + "]"),
    },{
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("OCFimfData").innerHTML + "]"),
    }
    ]

})};



function OCFContainerHide(){

Highcharts.chart('OCFContainerHide', {
    chart: {
        type: 'spline'
    },
    credits: false,
    title: {
        text: 'OCF and JV usage',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    legend: {
        enabled:false,
        itemStyle: {
            fontSize: '18px'
        }
    },
    xAxis: {
        crosshair: false,
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    yAxis: {
        min: 0,
        endOnTick: false,
        title: {
            text: 'Visits',
            style: {
                fontSize: '0px'
            }
        },
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    exporting: { enabled: false },
    plotOptions: {
        series: {
            animation: false,
            lineWidth: 2,
                marker: {
                    enabled: false
            }
        }
    },



    series: [
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("OCFlloydsData").innerHTML + "]"),
    },{
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("OCFhalifaxData").innerHTML + "]"),
    },{
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("OCFbosData").innerHTML + "]"),
    },{
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("OCFjaguarData").innerHTML + "]"),
    },{
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("OCFlandroverData").innerHTML + "]"),
    },{
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("OCFsuzukiData").innerHTML + "]"),
    },{
        name: 'Mitsubishi',
        data: JSON.parse("[" + document.getElementById("OCFmitsubishiData").innerHTML + "]"),
    },{
        name: 'Shogun',
        data: JSON.parse("[" + document.getElementById("OCFshogunData").innerHTML + "]"),
    },{
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("OCFimfData").innerHTML + "]"),
    }
    ]

})};



function UpTrendsCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/uptrends-name?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {

  var visits = JSON.parse(xmlhttp.responseText);
  console.log(xmlhttp.responseText);

    var url = document.getElementById("apimonitor1").innerHTML;
    document.getElementById("apiguid1").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("apimonitor2").innerHTML;
    document.getElementById("apiguid2").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("apimonitor3").innerHTML;
    document.getElementById("apiguid3").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("apimonitor4").innerHTML;
    document.getElementById("apiguid4").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("lexmonitor1").innerHTML;
    document.getElementById("lexguid1").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("lexmonitor2").innerHTML;
    document.getElementById("lexguid2").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("lexmonitor3").innerHTML;
    document.getElementById("lexguid3").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("lexmonitor4").innerHTML;
    document.getElementById("lexguid4").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));
    var url = document.getElementById("lexmonitor5").innerHTML;
    document.getElementById("lexguid5").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("lexmonitor6").innerHTML;
    document.getElementById("lexguid6").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("bhmonitor1").innerHTML;
    document.getElementById("bhguid1").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("bhmonitor2").innerHTML;
    document.getElementById("bhguid2").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));
    var url = document.getElementById("bhmonitor3").innerHTML;
    document.getElementById("bhguid3").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("bhmonitor4").innerHTML;
    document.getElementById("bhguid4").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("bhmonitor5").innerHTML;
    document.getElementById("bhguid5").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));

    var url = document.getElementById("bhmonitor6").innerHTML;
    document.getElementById("bhguid6").innerHTML = visits.substring(visits.split(url, 1).join(url).length-42).substr(0, visits.substring(visits.split(url, 1).join(url).length-42).indexOf('\",\"Name'));


    //var lexvar2 = visits.substring(visits.split(url, 6).join(url).length+chars-42).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars-40).indexOf('\"Name\"'));

    }
}
  xmlhttp.send();
    setTimeout(function () {
  UpTrendsData();
    }, 1000);
}


function UpTrendsData(){


xmlhttp2 = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/uptrends-data?chris15awesome=yes";
xmlhttp2.open("GET", url, true);
xmlhttp2.onreadystatechange = function () {
    if (xmlhttp2.readyState == 4 && xmlhttp2.status == 200) {

  var visits = JSON.parse(xmlhttp2.responseText);
  console.log(xmlhttp2.responseText);

  var url = document.getElementById("apiguid1").innerHTML;
  var chars = url.length+16;
  var apierror1 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("apiguid2").innerHTML;
  var chars = url.length+16;
  var apierror2 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("apiguid3").innerHTML;
  var chars = url.length+16;
  var apierror3 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("apiguid4").innerHTML;
  var chars = url.length+16;
  var apierror4 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid1").innerHTML;
  var chars = url.length+16;
  var lexerror1 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid2").innerHTML;
  var chars = url.length+16;
  var lexerror2 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid3").innerHTML;
  var chars = url.length+16;
  var lexerror3 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid4").innerHTML;
  var chars = url.length+16;
  var lexerror4 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid5").innerHTML;
  var chars = url.length+16;
  var lexerror5 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("lexguid6").innerHTML;
  var chars = url.length+16;
  var lexerror6 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid1").innerHTML;
  var chars = url.length+16;
  var bherror1 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid2").innerHTML;
  var chars = url.length+16;
  var bherror2 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid3").innerHTML;
  var chars = url.length+16;
  var bherror3 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid4").innerHTML;
  var chars = url.length+16;
  var bherror4 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid5").innerHTML;
  var chars = url.length+16;
  var bherror5 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));

  var url = document.getElementById("bhguid6").innerHTML;
  var chars = url.length+16;
  var bherror6 = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars+2).indexOf('\"LastCheck\"'));


  if (apierror1 == "NoError") {document.getElementById("apierrorimage1").innerHTML = document.getElementById("apierrorimage1").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror1 == "InActive") {document.getElementById("apierrorimage1").innerHTML = document.getElementById("apierrorimage1").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage1").innerHTML = document.getElementById("apierrorimage1").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (apierror2 == "NoError") {document.getElementById("apierrorimage2").innerHTML = document.getElementById("apierrorimage2").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror2 == "InActive") {document.getElementById("apierrorimage2").innerHTML = document.getElementById("apierrorimage2").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage2").innerHTML = document.getElementById("apierrorimage2").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (apierror3 == "NoError") {document.getElementById("apierrorimage3").innerHTML = document.getElementById("apierrorimage3").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror3 == "InActive") {document.getElementById("apierrorimage3").innerHTML = document.getElementById("apierrorimage3").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage3").innerHTML = document.getElementById("apierrorimage3").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (apierror4 == "NoError") {document.getElementById("apierrorimage4").innerHTML = document.getElementById("apierrorimage4").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror4 == "InActive") {document.getElementById("apierrorimage4").innerHTML = document.getElementById("apierrorimage4").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage4").innerHTML = document.getElementById("apierrorimage4").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror1 == "NoError") {document.getElementById("bherrorimage1").innerHTML = document.getElementById("bherrorimage1").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror1 == "InActive") {document.getElementById("bherrorimage1").innerHTML = document.getElementById("bherrorimage1").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage1").innerHTML = document.getElementById("bherrorimage1").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror2 == "NoError") {document.getElementById("bherrorimage2").innerHTML = document.getElementById("bherrorimage2").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror2 == "InActive") {document.getElementById("bherrorimage2").innerHTML = document.getElementById("bherrorimage2").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage2").innerHTML = document.getElementById("bherrorimage2").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror3 == "NoError") {document.getElementById("bherrorimage3").innerHTML = document.getElementById("bherrorimage3").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror3 == "InActive") {document.getElementById("bherrorimage3").innerHTML = document.getElementById("bherrorimage3").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage3").innerHTML = document.getElementById("bherrorimage3").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror4 == "NoError") {document.getElementById("bherrorimage4").innerHTML = document.getElementById("bherrorimage4").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror4 == "InActive") {document.getElementById("bherrorimage4").innerHTML = document.getElementById("bherrorimage4").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage4").innerHTML = document.getElementById("bherrorimage4").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror5 == "NoError") {document.getElementById("bherrorimage5").innerHTML = document.getElementById("bherrorimage5").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror5 == "InActive") {document.getElementById("bherrorimage5").innerHTML = document.getElementById("bherrorimage5").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage5").innerHTML = document.getElementById("bherrorimage5").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror6 == "NoError") {document.getElementById("bherrorimage6").innerHTML = document.getElementById("bherrorimage6").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror6 == "InActive") {document.getElementById("bherrorimage6").innerHTML = document.getElementById("bherrorimage6").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage6").innerHTML = document.getElementById("bherrorimage6").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror1 == "NoError") {document.getElementById("lexerrorimage1").innerHTML = document.getElementById("lexerrorimage1").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror1 == "InActive") {document.getElementById("lexerrorimage1").innerHTML = document.getElementById("lexerrorimage1").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage1").innerHTML = document.getElementById("lexerrorimage1").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror2 == "NoError") {document.getElementById("lexerrorimage2").innerHTML = document.getElementById("lexerrorimage2").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror2 == "InActive") {document.getElementById("lexerrorimage2").innerHTML = document.getElementById("lexerrorimage2").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage2").innerHTML = document.getElementById("lexerrorimage2").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror3 == "NoError") {document.getElementById("lexerrorimage3").innerHTML = document.getElementById("lexerrorimage3").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror3 == "InActive") {document.getElementById("lexerrorimage3").innerHTML = document.getElementById("lexerrorimage3").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage3").innerHTML = document.getElementById("lexerrorimage3").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (lexerror4 == "NoError") {document.getElementById("lexerrorimage4").innerHTML = document.getElementById("lexerrorimage4").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror4 == "InActive") {document.getElementById("lexerrorimage4").innerHTML = document.getElementById("lexerrorimage4").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage4").innerHTML = document.getElementById("lexerrorimage4").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (lexerror5 == "NoError") {document.getElementById("lexerrorimage5").innerHTML = document.getElementById("lexerrorimage5").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror5 == "InActive") {document.getElementById("lexerrorimage5").innerHTML = document.getElementById("lexerrorimage5").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage5").innerHTML = document.getElementById("lexerrorimage5").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror6 == "NoError") {document.getElementById("lexerrorimage6").innerHTML = document.getElementById("lexerrorimage6").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror6 == "InActive") {document.getElementById("lexerrorimage6").innerHTML = document.getElementById("lexerrorimage6").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage6").innerHTML = document.getElementById("lexerrorimage6").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 



  if (apierror1 == "NoError") {document.getElementById("apierrorimage12").innerHTML = document.getElementById("apierrorimage12").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror1 == "InActive") {document.getElementById("apierrorimage12").innerHTML = document.getElementById("apierrorimage12").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage12").innerHTML = document.getElementById("apierrorimage12").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (apierror2 == "NoError") {document.getElementById("apierrorimage22").innerHTML = document.getElementById("apierrorimage22").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror2 == "InActive") {document.getElementById("apierrorimage22").innerHTML = document.getElementById("apierrorimage22").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage22").innerHTML = document.getElementById("apierrorimage22").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (apierror3 == "NoError") {document.getElementById("apierrorimage32").innerHTML = document.getElementById("apierrorimage32").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror3 == "InActive") {document.getElementById("apierrorimage32").innerHTML = document.getElementById("apierrorimage32").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage32").innerHTML = document.getElementById("apierrorimage32").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (apierror4 == "NoError") {document.getElementById("apierrorimage42").innerHTML = document.getElementById("apierrorimage42").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (apierror4 == "InActive") {document.getElementById("apierrorimage42").innerHTML = document.getElementById("apierrorimage42").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("apierrorimage42").innerHTML = document.getElementById("apierrorimage42").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror1 == "NoError") {document.getElementById("bherrorimage12").innerHTML = document.getElementById("bherrorimage12").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror1 == "InActive") {document.getElementById("bherrorimage12").innerHTML = document.getElementById("bherrorimage12").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage12").innerHTML = document.getElementById("bherrorimage12").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror2 == "NoError") {document.getElementById("bherrorimage22").innerHTML = document.getElementById("bherrorimage22").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror2 == "InActive") {document.getElementById("bherrorimage22").innerHTML = document.getElementById("bherrorimage22").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage22").innerHTML = document.getElementById("bherrorimage22").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror3 == "NoError") {document.getElementById("bherrorimage32").innerHTML = document.getElementById("bherrorimage32").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror3 == "InActive") {document.getElementById("bherrorimage32").innerHTML = document.getElementById("bherrorimage32").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage32").innerHTML = document.getElementById("bherrorimage32").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror4 == "NoError") {document.getElementById("bherrorimage42").innerHTML = document.getElementById("bherrorimage42").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror4 == "InActive") {document.getElementById("bherrorimage42").innerHTML = document.getElementById("bherrorimage42").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage42").innerHTML = document.getElementById("bherrorimage42").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (bherror5 == "NoError") {document.getElementById("bherrorimage52").innerHTML = document.getElementById("bherrorimage52").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror5 == "InActive") {document.getElementById("bherrorimage52").innerHTML = document.getElementById("bherrorimage52").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage52").innerHTML = document.getElementById("bherrorimage52").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (bherror6 == "NoError") {document.getElementById("bherrorimage62").innerHTML = document.getElementById("bherrorimage62").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (bherror6 == "InActive") {document.getElementById("bherrorimage62").innerHTML = document.getElementById("bherrorimage62").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("bherrorimage62").innerHTML = document.getElementById("bherrorimage62").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror1 == "NoError") {document.getElementById("lexerrorimage12").innerHTML = document.getElementById("lexerrorimage12").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror1 == "InActive") {document.getElementById("lexerrorimage12").innerHTML = document.getElementById("lexerrorimage12").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage12").innerHTML = document.getElementById("lexerrorimage12").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror2 == "NoError") {document.getElementById("lexerrorimage22").innerHTML = document.getElementById("lexerrorimage22").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror2 == "InActive") {document.getElementById("lexerrorimage22").innerHTML = document.getElementById("lexerrorimage22").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage22").innerHTML = document.getElementById("lexerrorimage22").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror3 == "NoError") {document.getElementById("lexerrorimage32").innerHTML = document.getElementById("lexerrorimage32").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror3 == "InActive") {document.getElementById("lexerrorimage32").innerHTML = document.getElementById("lexerrorimage32").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage32").innerHTML = document.getElementById("lexerrorimage32").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (lexerror4 == "NoError") {document.getElementById("lexerrorimage42").innerHTML = document.getElementById("lexerrorimage42").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror4 == "InActive") {document.getElementById("lexerrorimage42").innerHTML = document.getElementById("lexerrorimage42").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage42").innerHTML = document.getElementById("lexerrorimage42").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} }   

  if (lexerror5 == "NoError") {document.getElementById("lexerrorimage52").innerHTML = document.getElementById("lexerrorimage52").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror5 == "InActive") {document.getElementById("lexerrorimage52").innerHTML = document.getElementById("lexerrorimage52").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage52").innerHTML = document.getElementById("lexerrorimage52").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 

  if (lexerror6 == "NoError") {document.getElementById("lexerrorimage62").innerHTML = document.getElementById("lexerrorimage62").src = "https://cdn1.iconfinder.com/data/icons/warnings-and-dangers/400/Warning-02-512.png";} else { if (lexerror6 == "InActive") {document.getElementById("lexerrorimage62").innerHTML = document.getElementById("lexerrorimage62").src = "http://www.downloadclipart.net/large/20230-inner-grey-design.png";} else {document.getElementById("lexerrorimage62").innerHTML = document.getElementById("lexerrorimage62").src = "https://cdn3.iconfinder.com/data/icons/picons-weather/57/53_warning-512.png";} } 


 
    }
}
xmlhttp2.send();

    document.getElementById("APITable2").style.display = "initial";
    document.getElementById("BHTable2").style.display = "initial";
    document.getElementById("LexTable2").style.display = "initial";
    document.getElementById("BHHeaderText2").style.display = "initial";
    document.getElementById("LexHeaderText2").style.display = "initial";
    document.getElementById("APIHeaderText2").style.display = "initial";
    document.getElementById("UpTrendsDashboardHeader").style.display = "initial";

    visitsThisMonthCall();

}




function visitsThisMonthCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/custvisits-thismonth?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");
    var visits = visits.replace("<td>&nbsp;</td></tr>", "<td>0</td></tr>");

    //console.log(visits);

    var url = "&nbsp";
    var chars = url.length+10;
    var bhData = 
                visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'));

    var bhTotal = 
                +visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 23).join(url).length+chars).substr(0, visits.substring(visits.split(url, 23).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'));


    if(bhData.substring(bhData.length-1)==","){var bhData = bhData.substring(0,bhData.length-1)};
    if(bhData.substring(bhData.length-1)==","){var bhData = bhData.substring(0,bhData.length-1)};
    if(bhData.substring(bhData.length-1)==","){var bhData = bhData.substring(0,bhData.length-1)};

    document.getElementById("thisMonthBHData").innerHTML = bhData;
    document.getElementById("thisMonthBHTotal").innerHTML = bhTotal.toLocaleString();

    VisitsMonthContainer();
    VisitsMonthContainerHide();

    OCFMonthCall();
    }
}


xmlhttp.send();
}


function VisitsMonthContainer(){

Highcharts.chart('VisitsThisMonthContainer', {
    chart: {
        type: 'line'
    },
    credits: false,
    title: {
        text: 'Visits to Blackhorse.co.uk and Customer Portal - '+document.getElementById("currentMonth").innerHTML,
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold',
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
            legend: {
          borderRadius:0,
            backgroundColor: '#FFFFFF',
            itemMarginBottom: 7,
            layout: 'vertical',
            align: 'blahblah', //dunno why but removing this defaults it to top, crap value overlays it
            verticalAlign: 'top',                
            y: 500,
            x: 160,
            borderWidth: 0,
            width:210,
            symbolPadding: 10,
            useHTML:true,
            shadow: {
              color: '#000',
              width: 3,
              opacity: 0.15,
              offsetY: 2,
              offsetX: 1
            },
            labelFormatter: function() {
              return '<div class="' + this.name + '-arrow"></div><span style="font-family: \'Advent Pro\', sans-serif; font-size:20px">' + this.name +'</span><br/><span style="font-size:16px; color:#ababaa">(Total: ' + this.options.total + ')</span>';
        }

        },
    xAxis: {
        categories: ['1st','2nd','3rd','4th','5th','6th','7th','8th','9th','10th','11th','12th','13th','14th','15th','16th','17th','18th','19th','20th','21st','22nd','23rd','24th','25th','26th','27th','28th','29th','30th','31st'],

        crosshair: true,
                labels: {
            style: {
                fontSize: '16px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false,
            lineWidth: 10            
        }
    },



    series: [
    {
        name: 'Blackhorse.co.uk',
        data: JSON.parse("[" + document.getElementById("thisMonthBHData").innerHTML + "]"),
        total: document.getElementById("thisMonthBHTotal").innerHTML.toLocaleString(),
    },
    {
        name: 'Customer Portal',
        data: JSON.parse("[" + document.getElementById("thisMonthCPData").innerHTML + "]"),
        total: document.getElementById("thisMonthCPTotal").innerHTML.toLocaleString(),
    }
    ]

})};



function VisitsMonthContainerHide(){

Highcharts.chart('VisitsThisMonthContainerHide', {
    chart: {
        type: 'line'
    },
    credits: false,
    tooltip: false,
    exporting: { enabled: false },
    title: {
        text: 'BH & Customer Portal Visits',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px',
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
            legend: {
          borderRadius:0,
            backgroundColor: '#FFFFFF',
            itemMarginBottom: 7,
            layout: 'vertical',
            align: 'blahblah', //dunno why but removing this defaults it to top, crap value overlays it
            verticalAlign: 'top',                
            y: 50,
            x: 800,
            borderWidth: 0,
            width:210,
            symbolPadding: 10,
            useHTML:true,
            shadow: {
              color: '#000',
              width: 3,
              opacity: 0.15,
              offsetY: 2,
              offsetX: 1
            },
            labelFormatter: function() {
              return '<div class="' + this.name + '-arrow"></div><span style="font-family: \'Advent Pro\', sans-serif; font-size:20px">' + this.name +'</span><br/><span style="font-size:16px; color:#ababaa">(Total: ' + this.options.total + ')</span>';
        }

        },
    xAxis: {
        crosshair: false,
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    yAxis: {
        min: 0,
        endOnTick: false,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '0px'
            }
        },
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    plotOptions: {
        series: {
            animation: false
        },      
        line: {
            marker: {
                enabled: false,
            }
        }
    },


    series: [
    {
        name: 'This Month',
        data: JSON.parse("[" + document.getElementById("thisMonthBHData").innerHTML + "]"),
        total: document.getElementById("thisMonthBHTotal").innerHTML.toLocaleString(),
    },
    {
        name: 'Customer Portal',
        data: JSON.parse("[" + document.getElementById("thisMonthCPData").innerHTML + "]"),
        total: document.getElementById("thisMonthCPTotal").innerHTML.toLocaleString(),
    }
    ]

})};




function OCFMonthCall() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/cpvisits-month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    var visits = visits.replace(/&nbsp;/g, "0"); 

    //console.log(visits);

    var url = "<td>";
    var chars = url.length
    var cpdata = 
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 58).join(url).length+chars).substr(0, visits.substring(visits.split(url, 58).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 69).join(url).length+chars).substr(0, visits.substring(visits.split(url, 69).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 80).join(url).length+chars).substr(0, visits.substring(visits.split(url, 80).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 91).join(url).length+chars).substr(0, visits.substring(visits.split(url, 91).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 102).join(url).length+chars).substr(0, visits.substring(visits.split(url, 102).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 113).join(url).length+chars).substr(0, visits.substring(visits.split(url, 113).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 124).join(url).length+chars).substr(0, visits.substring(visits.split(url, 124).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 135).join(url).length+chars).substr(0, visits.substring(visits.split(url, 135).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 146).join(url).length+chars).substr(0, visits.substring(visits.split(url, 146).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 157).join(url).length+chars).substr(0, visits.substring(visits.split(url, 157).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 168).join(url).length+chars).substr(0, visits.substring(visits.split(url, 168).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 179).join(url).length+chars).substr(0, visits.substring(visits.split(url, 179).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 190).join(url).length+chars).substr(0, visits.substring(visits.split(url, 190).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 201).join(url).length+chars).substr(0, visits.substring(visits.split(url, 201).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 212).join(url).length+chars).substr(0, visits.substring(visits.split(url, 212).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 223).join(url).length+chars).substr(0, visits.substring(visits.split(url, 223).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 234).join(url).length+chars).substr(0, visits.substring(visits.split(url, 234).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 245).join(url).length+chars).substr(0, visits.substring(visits.split(url, 245).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 256).join(url).length+chars).substr(0, visits.substring(visits.split(url, 256).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 267).join(url).length+chars).substr(0, visits.substring(visits.split(url, 267).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 278).join(url).length+chars).substr(0, visits.substring(visits.split(url, 278).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 289).join(url).length+chars).substr(0, visits.substring(visits.split(url, 289).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 300).join(url).length+chars).substr(0, visits.substring(visits.split(url, 300).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 311).join(url).length+chars).substr(0, visits.substring(visits.split(url, 311).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 322).join(url).length+chars).substr(0, visits.substring(visits.split(url, 322).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 333).join(url).length+chars).substr(0, visits.substring(visits.split(url, 333).join(url).length+chars).indexOf('</td>'));
    if(cpdata.substring(cpdata.length-1,cpdata.length)==","){var cpdata=cpdata.substring(0,cpdata.length-1)};
    //console.log(cpdata);

    var cptotal = 
                +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 58).join(url).length+chars).substr(0, visits.substring(visits.split(url, 58).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 69).join(url).length+chars).substr(0, visits.substring(visits.split(url, 69).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 80).join(url).length+chars).substr(0, visits.substring(visits.split(url, 80).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 91).join(url).length+chars).substr(0, visits.substring(visits.split(url, 91).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 102).join(url).length+chars).substr(0, visits.substring(visits.split(url, 102).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 113).join(url).length+chars).substr(0, visits.substring(visits.split(url, 113).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 124).join(url).length+chars).substr(0, visits.substring(visits.split(url, 124).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 135).join(url).length+chars).substr(0, visits.substring(visits.split(url, 135).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 146).join(url).length+chars).substr(0, visits.substring(visits.split(url, 146).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 157).join(url).length+chars).substr(0, visits.substring(visits.split(url, 157).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 168).join(url).length+chars).substr(0, visits.substring(visits.split(url, 168).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 179).join(url).length+chars).substr(0, visits.substring(visits.split(url, 179).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 190).join(url).length+chars).substr(0, visits.substring(visits.split(url, 190).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 201).join(url).length+chars).substr(0, visits.substring(visits.split(url, 201).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 212).join(url).length+chars).substr(0, visits.substring(visits.split(url, 212).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 223).join(url).length+chars).substr(0, visits.substring(visits.split(url, 223).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 234).join(url).length+chars).substr(0, visits.substring(visits.split(url, 234).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 245).join(url).length+chars).substr(0, visits.substring(visits.split(url, 245).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 256).join(url).length+chars).substr(0, visits.substring(visits.split(url, 256).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 267).join(url).length+chars).substr(0, visits.substring(visits.split(url, 267).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 278).join(url).length+chars).substr(0, visits.substring(visits.split(url, 278).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 289).join(url).length+chars).substr(0, visits.substring(visits.split(url, 289).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 300).join(url).length+chars).substr(0, visits.substring(visits.split(url, 300).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 311).join(url).length+chars).substr(0, visits.substring(visits.split(url, 311).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 322).join(url).length+chars).substr(0, visits.substring(visits.split(url, 322).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 333).join(url).length+chars).substr(0, visits.substring(visits.split(url, 333).join(url).length+chars).indexOf('</td>'));
    //console.log(cptotal);

    var url = "<td>";
    var chars = url.length
    var lloydsdata = 
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 59).join(url).length+chars).substr(0, visits.substring(visits.split(url, 59).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 70).join(url).length+chars).substr(0, visits.substring(visits.split(url, 70).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 81).join(url).length+chars).substr(0, visits.substring(visits.split(url, 81).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 92).join(url).length+chars).substr(0, visits.substring(visits.split(url, 92).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 103).join(url).length+chars).substr(0, visits.substring(visits.split(url, 103).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 114).join(url).length+chars).substr(0, visits.substring(visits.split(url, 114).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 125).join(url).length+chars).substr(0, visits.substring(visits.split(url, 125).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 136).join(url).length+chars).substr(0, visits.substring(visits.split(url, 136).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 147).join(url).length+chars).substr(0, visits.substring(visits.split(url, 147).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 158).join(url).length+chars).substr(0, visits.substring(visits.split(url, 158).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 169).join(url).length+chars).substr(0, visits.substring(visits.split(url, 169).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 180).join(url).length+chars).substr(0, visits.substring(visits.split(url, 180).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 191).join(url).length+chars).substr(0, visits.substring(visits.split(url, 191).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 202).join(url).length+chars).substr(0, visits.substring(visits.split(url, 202).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 213).join(url).length+chars).substr(0, visits.substring(visits.split(url, 213).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 224).join(url).length+chars).substr(0, visits.substring(visits.split(url, 224).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 235).join(url).length+chars).substr(0, visits.substring(visits.split(url, 235).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 246).join(url).length+chars).substr(0, visits.substring(visits.split(url, 246).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 257).join(url).length+chars).substr(0, visits.substring(visits.split(url, 257).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 268).join(url).length+chars).substr(0, visits.substring(visits.split(url, 268).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 279).join(url).length+chars).substr(0, visits.substring(visits.split(url, 279).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 290).join(url).length+chars).substr(0, visits.substring(visits.split(url, 290).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 301).join(url).length+chars).substr(0, visits.substring(visits.split(url, 301).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 312).join(url).length+chars).substr(0, visits.substring(visits.split(url, 312).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 323).join(url).length+chars).substr(0, visits.substring(visits.split(url, 323).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 334).join(url).length+chars).substr(0, visits.substring(visits.split(url, 334).join(url).length+chars).indexOf('</td>'));
    if(lloydsdata.substring(lloydsdata.length-1,lloydsdata.length)==","){var lloydsdata=lloydsdata.substring(0,lloydsdata.length-1)};
    //console.log(lloydsdata);

    var url = "<td>";
    var chars = url.length
    var halifaxdata = 
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 60).join(url).length+chars).substr(0, visits.substring(visits.split(url, 60).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 71).join(url).length+chars).substr(0, visits.substring(visits.split(url, 71).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 82).join(url).length+chars).substr(0, visits.substring(visits.split(url, 82).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 93).join(url).length+chars).substr(0, visits.substring(visits.split(url, 93).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 104).join(url).length+chars).substr(0, visits.substring(visits.split(url, 104).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 115).join(url).length+chars).substr(0, visits.substring(visits.split(url, 115).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 126).join(url).length+chars).substr(0, visits.substring(visits.split(url, 126).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 137).join(url).length+chars).substr(0, visits.substring(visits.split(url, 137).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 148).join(url).length+chars).substr(0, visits.substring(visits.split(url, 148).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 159).join(url).length+chars).substr(0, visits.substring(visits.split(url, 159).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 170).join(url).length+chars).substr(0, visits.substring(visits.split(url, 170).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 181).join(url).length+chars).substr(0, visits.substring(visits.split(url, 181).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 192).join(url).length+chars).substr(0, visits.substring(visits.split(url, 192).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 203).join(url).length+chars).substr(0, visits.substring(visits.split(url, 203).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 214).join(url).length+chars).substr(0, visits.substring(visits.split(url, 214).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 225).join(url).length+chars).substr(0, visits.substring(visits.split(url, 225).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 236).join(url).length+chars).substr(0, visits.substring(visits.split(url, 236).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 247).join(url).length+chars).substr(0, visits.substring(visits.split(url, 247).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 258).join(url).length+chars).substr(0, visits.substring(visits.split(url, 258).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 269).join(url).length+chars).substr(0, visits.substring(visits.split(url, 269).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 280).join(url).length+chars).substr(0, visits.substring(visits.split(url, 280).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 291).join(url).length+chars).substr(0, visits.substring(visits.split(url, 291).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 302).join(url).length+chars).substr(0, visits.substring(visits.split(url, 302).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 313).join(url).length+chars).substr(0, visits.substring(visits.split(url, 313).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 324).join(url).length+chars).substr(0, visits.substring(visits.split(url, 324).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 335).join(url).length+chars).substr(0, visits.substring(visits.split(url, 335).join(url).length+chars).indexOf('</td>'));
    if(halifaxdata.substring(halifaxdata.length-1,halifaxdata.length)==","){var halifaxdata=halifaxdata.substring(0,halifaxdata.length-1)};
    //console.log(halifaxdata);

    var url = "<td>";
    var chars = url.length
    var bosdata = 
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 61).join(url).length+chars).substr(0, visits.substring(visits.split(url, 61).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 72).join(url).length+chars).substr(0, visits.substring(visits.split(url, 72).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 83).join(url).length+chars).substr(0, visits.substring(visits.split(url, 83).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 94).join(url).length+chars).substr(0, visits.substring(visits.split(url, 94).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 105).join(url).length+chars).substr(0, visits.substring(visits.split(url, 105).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 116).join(url).length+chars).substr(0, visits.substring(visits.split(url, 116).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 127).join(url).length+chars).substr(0, visits.substring(visits.split(url, 127).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 138).join(url).length+chars).substr(0, visits.substring(visits.split(url, 138).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 149).join(url).length+chars).substr(0, visits.substring(visits.split(url, 149).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 160).join(url).length+chars).substr(0, visits.substring(visits.split(url, 160).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 171).join(url).length+chars).substr(0, visits.substring(visits.split(url, 171).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 182).join(url).length+chars).substr(0, visits.substring(visits.split(url, 182).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 193).join(url).length+chars).substr(0, visits.substring(visits.split(url, 193).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 204).join(url).length+chars).substr(0, visits.substring(visits.split(url, 204).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 215).join(url).length+chars).substr(0, visits.substring(visits.split(url, 215).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 226).join(url).length+chars).substr(0, visits.substring(visits.split(url, 226).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 237).join(url).length+chars).substr(0, visits.substring(visits.split(url, 237).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 248).join(url).length+chars).substr(0, visits.substring(visits.split(url, 248).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 259).join(url).length+chars).substr(0, visits.substring(visits.split(url, 259).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 270).join(url).length+chars).substr(0, visits.substring(visits.split(url, 270).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 281).join(url).length+chars).substr(0, visits.substring(visits.split(url, 281).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 292).join(url).length+chars).substr(0, visits.substring(visits.split(url, 292).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 303).join(url).length+chars).substr(0, visits.substring(visits.split(url, 303).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 314).join(url).length+chars).substr(0, visits.substring(visits.split(url, 314).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 325).join(url).length+chars).substr(0, visits.substring(visits.split(url, 325).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 336).join(url).length+chars).substr(0, visits.substring(visits.split(url, 336).join(url).length+chars).indexOf('</td>'));
    if(bosdata.substring(bosdata.length-1,bosdata.length)==","){var bosdata=bosdata.substring(0,bosdata.length-1)};
    //console.log(bosdata);

    var url = "<td>";
    var chars = url.length
    var jaguardata = 
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 51).join(url).length+chars).substr(0, visits.substring(visits.split(url, 51).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 62).join(url).length+chars).substr(0, visits.substring(visits.split(url, 62).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 73).join(url).length+chars).substr(0, visits.substring(visits.split(url, 73).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 84).join(url).length+chars).substr(0, visits.substring(visits.split(url, 84).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 95).join(url).length+chars).substr(0, visits.substring(visits.split(url, 95).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 106).join(url).length+chars).substr(0, visits.substring(visits.split(url, 106).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 117).join(url).length+chars).substr(0, visits.substring(visits.split(url, 117).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 128).join(url).length+chars).substr(0, visits.substring(visits.split(url, 128).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 139).join(url).length+chars).substr(0, visits.substring(visits.split(url, 139).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 150).join(url).length+chars).substr(0, visits.substring(visits.split(url, 150).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 161).join(url).length+chars).substr(0, visits.substring(visits.split(url, 161).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 172).join(url).length+chars).substr(0, visits.substring(visits.split(url, 172).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 183).join(url).length+chars).substr(0, visits.substring(visits.split(url, 183).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 194).join(url).length+chars).substr(0, visits.substring(visits.split(url, 194).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 205).join(url).length+chars).substr(0, visits.substring(visits.split(url, 205).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 216).join(url).length+chars).substr(0, visits.substring(visits.split(url, 216).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 227).join(url).length+chars).substr(0, visits.substring(visits.split(url, 227).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 238).join(url).length+chars).substr(0, visits.substring(visits.split(url, 238).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 249).join(url).length+chars).substr(0, visits.substring(visits.split(url, 249).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 260).join(url).length+chars).substr(0, visits.substring(visits.split(url, 260).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 271).join(url).length+chars).substr(0, visits.substring(visits.split(url, 271).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 282).join(url).length+chars).substr(0, visits.substring(visits.split(url, 282).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 293).join(url).length+chars).substr(0, visits.substring(visits.split(url, 293).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 304).join(url).length+chars).substr(0, visits.substring(visits.split(url, 304).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 315).join(url).length+chars).substr(0, visits.substring(visits.split(url, 315).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 326).join(url).length+chars).substr(0, visits.substring(visits.split(url, 326).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 337).join(url).length+chars).substr(0, visits.substring(visits.split(url, 337).join(url).length+chars).indexOf('</td>'));
    if(jaguardata.substring(jaguardata.length-1,jaguardata.length)==","){var jaguardata=jaguardata.substring(0,jaguardata.length-1)};
    //console.log(jaguardata);

    var url = "<td>";
    var chars = url.length
    var landroverdata = 
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 63).join(url).length+chars).substr(0, visits.substring(visits.split(url, 63).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 74).join(url).length+chars).substr(0, visits.substring(visits.split(url, 74).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 85).join(url).length+chars).substr(0, visits.substring(visits.split(url, 85).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 96).join(url).length+chars).substr(0, visits.substring(visits.split(url, 96).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 107).join(url).length+chars).substr(0, visits.substring(visits.split(url, 107).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 118).join(url).length+chars).substr(0, visits.substring(visits.split(url, 118).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 129).join(url).length+chars).substr(0, visits.substring(visits.split(url, 129).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 140).join(url).length+chars).substr(0, visits.substring(visits.split(url, 140).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 151).join(url).length+chars).substr(0, visits.substring(visits.split(url, 151).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 162).join(url).length+chars).substr(0, visits.substring(visits.split(url, 162).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 173).join(url).length+chars).substr(0, visits.substring(visits.split(url, 173).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 184).join(url).length+chars).substr(0, visits.substring(visits.split(url, 184).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 195).join(url).length+chars).substr(0, visits.substring(visits.split(url, 195).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 206).join(url).length+chars).substr(0, visits.substring(visits.split(url, 206).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 217).join(url).length+chars).substr(0, visits.substring(visits.split(url, 217).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 228).join(url).length+chars).substr(0, visits.substring(visits.split(url, 228).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 239).join(url).length+chars).substr(0, visits.substring(visits.split(url, 239).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 250).join(url).length+chars).substr(0, visits.substring(visits.split(url, 250).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 261).join(url).length+chars).substr(0, visits.substring(visits.split(url, 261).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 272).join(url).length+chars).substr(0, visits.substring(visits.split(url, 272).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 283).join(url).length+chars).substr(0, visits.substring(visits.split(url, 283).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 294).join(url).length+chars).substr(0, visits.substring(visits.split(url, 294).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 305).join(url).length+chars).substr(0, visits.substring(visits.split(url, 305).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 316).join(url).length+chars).substr(0, visits.substring(visits.split(url, 316).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 327).join(url).length+chars).substr(0, visits.substring(visits.split(url, 327).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 338).join(url).length+chars).substr(0, visits.substring(visits.split(url, 338).join(url).length+chars).indexOf('</td>'));
    if(landroverdata.substring(landroverdata.length-1,landroverdata.length)==","){var landroverdata=landroverdata.substring(0,landroverdata.length-1)};
   //console.log(landroverdata);

    var url = "<td>";
    var chars = url.length
    var suzukidata = 
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 53).join(url).length+chars).substr(0, visits.substring(visits.split(url, 53).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 64).join(url).length+chars).substr(0, visits.substring(visits.split(url, 64).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 75).join(url).length+chars).substr(0, visits.substring(visits.split(url, 75).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 86).join(url).length+chars).substr(0, visits.substring(visits.split(url, 86).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 97).join(url).length+chars).substr(0, visits.substring(visits.split(url, 97).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 108).join(url).length+chars).substr(0, visits.substring(visits.split(url, 108).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 119).join(url).length+chars).substr(0, visits.substring(visits.split(url, 119).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 130).join(url).length+chars).substr(0, visits.substring(visits.split(url, 130).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 141).join(url).length+chars).substr(0, visits.substring(visits.split(url, 141).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 152).join(url).length+chars).substr(0, visits.substring(visits.split(url, 152).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 163).join(url).length+chars).substr(0, visits.substring(visits.split(url, 163).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 174).join(url).length+chars).substr(0, visits.substring(visits.split(url, 174).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 185).join(url).length+chars).substr(0, visits.substring(visits.split(url, 185).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 196).join(url).length+chars).substr(0, visits.substring(visits.split(url, 196).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 207).join(url).length+chars).substr(0, visits.substring(visits.split(url, 207).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 218).join(url).length+chars).substr(0, visits.substring(visits.split(url, 218).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 229).join(url).length+chars).substr(0, visits.substring(visits.split(url, 229).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 240).join(url).length+chars).substr(0, visits.substring(visits.split(url, 240).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 251).join(url).length+chars).substr(0, visits.substring(visits.split(url, 251).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 262).join(url).length+chars).substr(0, visits.substring(visits.split(url, 262).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 273).join(url).length+chars).substr(0, visits.substring(visits.split(url, 273).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 284).join(url).length+chars).substr(0, visits.substring(visits.split(url, 284).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 295).join(url).length+chars).substr(0, visits.substring(visits.split(url, 295).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 306).join(url).length+chars).substr(0, visits.substring(visits.split(url, 306).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 317).join(url).length+chars).substr(0, visits.substring(visits.split(url, 317).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 328).join(url).length+chars).substr(0, visits.substring(visits.split(url, 328).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 339).join(url).length+chars).substr(0, visits.substring(visits.split(url, 339).join(url).length+chars).indexOf('</td>'));
    if(suzukidata.substring(suzukidata.length-1,suzukidata.length)==","){var suzukidata=suzukidata.substring(0,suzukidata.length-1)};
    //console.log(suzukidata);

    var url = "<td>";
    var chars = url.length
    var mitsubishidata = 
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 65).join(url).length+chars).substr(0, visits.substring(visits.split(url, 65).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 76).join(url).length+chars).substr(0, visits.substring(visits.split(url, 76).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 87).join(url).length+chars).substr(0, visits.substring(visits.split(url, 87).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 98).join(url).length+chars).substr(0, visits.substring(visits.split(url, 98).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 109).join(url).length+chars).substr(0, visits.substring(visits.split(url, 109).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 120).join(url).length+chars).substr(0, visits.substring(visits.split(url, 120).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 131).join(url).length+chars).substr(0, visits.substring(visits.split(url, 131).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 142).join(url).length+chars).substr(0, visits.substring(visits.split(url, 142).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 153).join(url).length+chars).substr(0, visits.substring(visits.split(url, 153).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 164).join(url).length+chars).substr(0, visits.substring(visits.split(url, 164).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 175).join(url).length+chars).substr(0, visits.substring(visits.split(url, 175).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 186).join(url).length+chars).substr(0, visits.substring(visits.split(url, 186).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 197).join(url).length+chars).substr(0, visits.substring(visits.split(url, 197).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 208).join(url).length+chars).substr(0, visits.substring(visits.split(url, 208).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 219).join(url).length+chars).substr(0, visits.substring(visits.split(url, 219).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 230).join(url).length+chars).substr(0, visits.substring(visits.split(url, 230).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 241).join(url).length+chars).substr(0, visits.substring(visits.split(url, 241).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 252).join(url).length+chars).substr(0, visits.substring(visits.split(url, 252).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 263).join(url).length+chars).substr(0, visits.substring(visits.split(url, 263).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 274).join(url).length+chars).substr(0, visits.substring(visits.split(url, 274).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 285).join(url).length+chars).substr(0, visits.substring(visits.split(url, 285).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 296).join(url).length+chars).substr(0, visits.substring(visits.split(url, 296).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 307).join(url).length+chars).substr(0, visits.substring(visits.split(url, 307).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 318).join(url).length+chars).substr(0, visits.substring(visits.split(url, 318).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 329).join(url).length+chars).substr(0, visits.substring(visits.split(url, 329).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 340).join(url).length+chars).substr(0, visits.substring(visits.split(url, 340).join(url).length+chars).indexOf('</td>'));
    if(mitsubishidata.substring(mitsubishidata.length-1,mitsubishidata.length)==","){var mitsubishidata=mitsubishidata.substring(0,mitsubishidata.length-1)};
    //console.log(mitsubishidata);

    var url = "<td>";
    var chars = url.length
    var imfdata = 
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 55).join(url).length+chars).substr(0, visits.substring(visits.split(url, 55).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 66).join(url).length+chars).substr(0, visits.substring(visits.split(url, 66).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 77).join(url).length+chars).substr(0, visits.substring(visits.split(url, 77).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 88).join(url).length+chars).substr(0, visits.substring(visits.split(url, 88).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 99).join(url).length+chars).substr(0, visits.substring(visits.split(url, 99).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 110).join(url).length+chars).substr(0, visits.substring(visits.split(url, 110).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 121).join(url).length+chars).substr(0, visits.substring(visits.split(url, 121).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 132).join(url).length+chars).substr(0, visits.substring(visits.split(url, 132).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 143).join(url).length+chars).substr(0, visits.substring(visits.split(url, 143).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 154).join(url).length+chars).substr(0, visits.substring(visits.split(url, 154).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 165).join(url).length+chars).substr(0, visits.substring(visits.split(url, 165).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 176).join(url).length+chars).substr(0, visits.substring(visits.split(url, 176).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 187).join(url).length+chars).substr(0, visits.substring(visits.split(url, 187).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 198).join(url).length+chars).substr(0, visits.substring(visits.split(url, 198).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 209).join(url).length+chars).substr(0, visits.substring(visits.split(url, 209).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 220).join(url).length+chars).substr(0, visits.substring(visits.split(url, 220).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 231).join(url).length+chars).substr(0, visits.substring(visits.split(url, 231).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 242).join(url).length+chars).substr(0, visits.substring(visits.split(url, 242).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 253).join(url).length+chars).substr(0, visits.substring(visits.split(url, 253).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 264).join(url).length+chars).substr(0, visits.substring(visits.split(url, 264).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 275).join(url).length+chars).substr(0, visits.substring(visits.split(url, 275).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 286).join(url).length+chars).substr(0, visits.substring(visits.split(url, 286).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 297).join(url).length+chars).substr(0, visits.substring(visits.split(url, 297).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 308).join(url).length+chars).substr(0, visits.substring(visits.split(url, 308).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 319).join(url).length+chars).substr(0, visits.substring(visits.split(url, 319).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 330).join(url).length+chars).substr(0, visits.substring(visits.split(url, 330).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 341).join(url).length+chars).substr(0, visits.substring(visits.split(url, 341).join(url).length+chars).indexOf('</td>'));
    if(imfdata.substring(imfdata.length-1,imfdata.length)==","){var imfdata=imfdata.substring(0,imfdata.length-1)};
    //console.log(imfdata);

    document.getElementById("OCFMonthlloydsData").innerHTML = lloydsdata;
    document.getElementById("OCFMonthhalifaxData").innerHTML = halifaxdata;
    document.getElementById("OCFMonthbosData").innerHTML = bosdata;
    document.getElementById("OCFMonthlandroverData").innerHTML = landroverdata;
    document.getElementById("OCFMonthjaguarData").innerHTML = jaguardata;
    document.getElementById("OCFMonthsuzukiData").innerHTML = suzukidata;
    document.getElementById("OCFMonthmitsubishiData").innerHTML = mitsubishidata;
    document.getElementById("OCFMonthimfData").innerHTML = imfdata;

    document.getElementById("thisMonthCPData").innerHTML = cpdata;
    document.getElementById("thisMonthCPTotal").innerHTML = cptotal.toLocaleString();

    OCFMonthContainer();
    OCFMonthContainerHide();
    VisitsMonthContainer();
    VisitsMonthContainerHide();

    FADCall();

    }
}


xmlhttp.send();
}



function OCFMonthContainer(){

Highcharts.chart('OCFMonthContainer', {
    chart: {
        type: 'column'
    },
    credits: false,
    title: {
        text: 'OCF and JV usage - '+document.getElementById("currentMonth").innerHTML,
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    },
    legend: {
        itemStyle: {
            fontSize: '18px'
        }
    },
    xAxis: {
        categories: ['1st','2nd','3rd','4th','5th','6th','7th','8th','9th','10th','11th','12th','13th','14th','15th','16th','17th','18th','19th','20th','21st','22nd','23rd','24th','25th','26th','27th','28th','29th','30th','31st'],

        crosshair: true,
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            stacking: 'normal',
            dataLabels: {
                enabled: false,
                color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
            },
        pointPadding: -0.25,
        }
    },



    series: [
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("OCFMonthlloydsData").innerHTML + "]"),
    },{
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("OCFMonthhalifaxData").innerHTML + "]"),
    },{
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("OCFMonthbosData").innerHTML + "]"),
    },{
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("OCFMonthjaguarData").innerHTML + "]"),
    },{
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("OCFMonthlandroverData").innerHTML + "]"),
    },{
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("OCFMonthsuzukiData").innerHTML + "]"),
    },{
        name: 'Mitsubishi',
        data: JSON.parse("[" + document.getElementById("OCFMonthmitsubishiData").innerHTML + "]"),
    },{
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("OCFMonthimfData").innerHTML + "]"),
    }
    ]

})};



function OCFMonthContainerHide(){

Highcharts.chart('OCFMonthContainerHide', {
    chart: {
        type: 'column'
    },
    credits: false,
    title: {
        text: 'OCF and JV usage',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    legend: {
        enabled:false,
        itemStyle: {
            fontSize: '18px'
        }
    },
    xAxis: {
        crosshair: false,
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    yAxis: {
        min: 0,
        endOnTick: false,
        title: {
            text: 'Visits',
            style: {
                fontSize: '0px'
            }
        },
                labels: {
            style: {
                fontSize: '0px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    exporting: { enabled: false },
    plotOptions: {
        column: {
            stacking: 'normal',
            dataLabels: {
                enabled: false,
                color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
            },
        pointPadding: -0.25,
        },
        series: {
            animation: false
        }
    },



    series: [
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("OCFMonthlloydsData").innerHTML + "]"),
    },{
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("OCFMonthhalifaxData").innerHTML + "]"),
    },{
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("OCFMonthbosData").innerHTML + "]"),
    },{
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("OCFMonthjaguarData").innerHTML + "]"),
    },{
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("OCFMonthlandroverData").innerHTML + "]"),
    },{
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("OCFMonthsuzukiData").innerHTML + "]"),
    },{
        name: 'Mitsubishi',
        data: JSON.parse("[" + document.getElementById("OCFMonthmitsubishiData").innerHTML + "]"),
    },{
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("OCFMonthimfData").innerHTML + "]"),
    }
    ]

})};



function FADCall(){

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/fad-month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "</td><td>";
    var chars = url.length;
    var fad1 = +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var fad2 = +visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var fad3 = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var fad4 = +visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));

    //console.log(visits);

    document.getElementById("fad1").innerHTML = fad1;
    document.getElementById("fad2").innerHTML = fad2;
    document.getElementById("fad3").innerHTML = fad3;
    document.getElementById("fad4").innerHTML = fad4;

    FADContainer();
    FADContainerHide();
    FADList();

    }
}


xmlhttp.send();
}


function FADContainer(){

Highcharts.chart('FADContainer', {
    chart: {
        type: 'funnel'
    },
    credits:false,
    title: {
        text: 'Find a Dealer Funnel - '+document.getElementById("currentMonth").innerHTML,
        style: {
            fontFamily: 'Calibri',
            fontSize: '35px',
            fontWeight: 'bold'
        }
    },
    plotOptions: {
        series: {
            dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b> ({point.y:,.0f})',
                color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                softConnector: true,
                    style: {
                      fontFamily: 'Calibri',
                      fontSize: '22px',
                    },
            },
            center: ['50%', '50%'],
            neckWidth: '180',
            neckHeight: '25%',
            width: '600'
        }
    },
    legend: {
        enabled: false
    },
    series: [{
        name: 'Visits',
        data: [
            ['Visits to Find a Dealer', +document.getElementById("fad1").innerHTML],
            ['Searched for Dealer', +document.getElementById("fad2").innerHTML],
            ['Viewed a Dealer', +document.getElementById("fad3").innerHTML],
            ['Visited Dealers Website', +document.getElementById("fad4").innerHTML],
        ]
    }]
});
}


function FADContainerHide(){

Highcharts.chart('FADContainerHide', {
    chart: {
        type: 'funnel'
    },
    exporting: { enabled: false },
    credits:false,
    title: {
        text: 'Find a Dealer Funnel',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        },
    },
    plotOptions: {
        series: {
            dataLabels: {
                enabled: false,
            },
            center: ['50%', '50%'],
            neckWidth: '30%',
            neckHeight: '25%',
            width: '80%'
        }
    },
    legend: {
        enabled: false
    },
    series: [{
        name: 'Visits',
        data: [
            ['Visits to Find a Dealer', +document.getElementById("fad1").innerHTML],
            ['Searched for Dealer', +document.getElementById("fad2").innerHTML],
            ['Viewed a Dealer', +document.getElementById("fad3").innerHTML],
            ['Visited Dealers Website', +document.getElementById("fad4").innerHTML],
        ]
    }]
});
}

function FADList(){

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/fad-list?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "</td><td>";
    var chars = url.length;

    var dealertotal = +visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'));

    var dealer1 = visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var dealer2 = visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));
    var dealer3 = visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var dealer4 = visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'));
    var dealer5 = visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'));
    var dealer6 = visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'));


    var dealerdata1 = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var dealerdata2 = +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var dealerdata3 = +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var dealerdata4 = +visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var dealerdata5 = +visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var dealerdata6 = +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));

    //console.log(visits);

    document.getElementById("dealer1").innerHTML = dealer1;document.getElementById("dealer2").innerHTML = dealer2;document.getElementById("dealer3").innerHTML = dealer3;
    document.getElementById("dealer4").innerHTML = dealer4;document.getElementById("dealer5").innerHTML = dealer5;document.getElementById("dealer6").innerHTML = dealer6;

    document.getElementById("dealerdata1").innerHTML = dealerdata1;document.getElementById("dealerdata2").innerHTML = dealerdata2;
    document.getElementById("dealerdata3").innerHTML = dealerdata3;document.getElementById("dealerdata4").innerHTML = dealerdata4;
    document.getElementById("dealerdata5").innerHTML = dealerdata5;document.getElementById("dealerdata6").innerHTML = dealerdata6;

    BHGoalsCall();

    }
}

xmlhttp.send();
}



function BHGoalsCall(){

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/dealergoals-monthly?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "</td><td>";
    var chars = url.length;
    var bhgoaldealerviewed = +visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'));
    var bhgoalprodpages = +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var bhfinancecalculator = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var bhequips = +visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));
    var bhletsulearn = +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var bhletsuconnect = +visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var bhdealeradvice = +visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var bhvisitwss = +visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'));


    //console.log("bhgoals - "+visits);

    document.getElementById("bhgoals-thismonth-data1").innerHTML = bhvisitwss.toLocaleString();
    document.getElementById("bhgoals-thismonth-data2").innerHTML = bhgoaldealerviewed.toLocaleString();
    document.getElementById("bhgoals-thismonth-data3").innerHTML = bhgoalprodpages.toLocaleString();
    document.getElementById("bhgoals-thismonth-data4").innerHTML = bhfinancecalculator.toLocaleString();

    document.getElementById("bhgoals-thismonth-data5").innerHTML = bhequips.toLocaleString();
    document.getElementById("bhgoals-thismonth-data6").innerHTML = bhletsuconnect.toLocaleString();
    document.getElementById("bhgoals-thismonth-data7").innerHTML = bhletsulearn.toLocaleString();
    document.getElementById("bhgoals-thismonth-data8").innerHTML = bhdealeradvice.toLocaleString();

    document.getElementById("bhgoals-thismonth-data12").innerHTML = bhvisitwss.toLocaleString();
    document.getElementById("bhgoals-thismonth-data22").innerHTML = bhgoaldealerviewed.toLocaleString();
    document.getElementById("bhgoals-thismonth-data32").innerHTML = bhgoalprodpages.toLocaleString();
    document.getElementById("bhgoals-thismonth-data42").innerHTML = bhfinancecalculator.toLocaleString();

    document.getElementById("bhgoals-thismonth-data52").innerHTML = bhequips.toLocaleString();
    document.getElementById("bhgoals-thismonth-data62").innerHTML = bhletsuconnect.toLocaleString();
    document.getElementById("bhgoals-thismonth-data72").innerHTML = bhletsulearn.toLocaleString();
    document.getElementById("bhgoals-thismonth-data82").innerHTML = bhdealeradvice.toLocaleString();


    document.getElementById("BHGoalsHeaderText2").style.display = "initial";
    document.getElementById("bhgoals-thismonth-labelbox12").style.display = "initial";
    document.getElementById("bhgoals-thismonth-12").style.display = "initial";
    document.getElementById("bhgoals-thismonth-22").style.display = "initial";
    document.getElementById("bhgoals-thismonth-32").style.display = "initial";
    document.getElementById("bhgoals-thismonth-42").style.display = "initial";
    document.getElementById("bhgoals-thismonth-52").style.display = "initial";
    document.getElementById("bhgoals-thismonth-62").style.display = "initial";
    document.getElementById("bhgoals-thismonth-72").style.display = "initial";
    document.getElementById("bhgoals-thismonth-82").style.display = "initial";
    document.getElementById("CustomerHeader2").style.display = "initial";
    document.getElementById("DealerHeader2").style.display = "initial";
    document.getElementById("bhgoals-thismonth-labelbox22").style.display = "initial";

    CPGoalsCall();

    }
}

xmlhttp.send();
}



function CPGoalsCall(){

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/cpgoals-month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "</td><td>";
    var chars = url.length;
    var cplogins = +visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'));
    var cppayments = +visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var cpsettlements = +visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'));
    var cppaymentdate = +visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'));
    var cpstatements = +visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));



    //console.log("cp - "+visits);

    document.getElementById("cpgoals-thismonth-data1").innerHTML = cplogins.toLocaleString();
    document.getElementById("cpgoals-thismonth-data2").innerHTML = cppayments.toLocaleString();
    document.getElementById("cpgoals-thismonth-data3").innerHTML = cpsettlements.toLocaleString();
    document.getElementById("cpgoals-thismonth-data4").innerHTML = cpstatements.toLocaleString();

    document.getElementById("cpgoals-thismonth-data5").innerHTML = cppaymentdate.toLocaleString();


    document.getElementById("cpgoals-thismonth-data12").innerHTML = cplogins.toLocaleString();
    document.getElementById("cpgoals-thismonth-data22").innerHTML = cppayments.toLocaleString();
    document.getElementById("cpgoals-thismonth-data32").innerHTML = cpsettlements.toLocaleString();
    document.getElementById("cpgoals-thismonth-data42").innerHTML = cpstatements.toLocaleString();

    document.getElementById("cpgoals-thismonth-data52").innerHTML = cppaymentdate.toLocaleString();

    document.getElementById("cpGoalsHeaderText2").style.display = "initial";
    document.getElementById("cpgoals-thismonth-labelbox12").style.display = "initial";
    document.getElementById("cpgoals-thismonth-12").style.display = "initial";
    document.getElementById("cpgoals-thismonth-22").style.display = "initial";
    document.getElementById("cpgoals-thismonth-32").style.display = "initial";
    document.getElementById("cpgoals-thismonth-42").style.display = "initial";
    document.getElementById("cpgoals-thismonth-52").style.display = "initial";
    document.getElementById("cpgoals-thismonth-62").style.display = "initial";
    document.getElementById("cpgoals-thismonth-72").style.display = "initial";
    document.getElementById("cpgoals-thismonth-82").style.display = "initial";
    document.getElementById("cptransactions12").style.display = "initial";
    document.getElementById("cpupdated22").style.display = "initial";
    document.getElementById("cpgoals-thismonth-labelbox22").style.display = "initial";

    CPDetailsCall();

    }
}

xmlhttp.send();
}



function CPDetailsCall(){

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/cpdetails-month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    var url = "<td>";
    var chars = url.length

    var url1 = visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'));
    var data1 = +visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'));

    var url2 = visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'));
    var data2 = +visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'));

    var url3 = visits.substring(visits.split(url, 35).join(url).length+chars).substr(0, visits.substring(visits.split(url, 35).join(url).length+chars).indexOf('</td>'));
    var data3 = +visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'));

    var url4 = visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'));
    var data4 = +visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 51).join(url).length+chars).substr(0, visits.substring(visits.split(url, 51).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 53).join(url).length+chars).substr(0, visits.substring(visits.split(url, 53).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'))+
                +visits.substring(visits.split(url, 55).join(url).length+chars).substr(0, visits.substring(visits.split(url, 55).join(url).length+chars).indexOf('</td>'));

    if(url1=="/UpdateAddress.aspx")
      {document.getElementById("cpgoals-thismonth-data7").innerHTML = data1.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data72").innerHTML = data1.toLocaleString()};
    if(url1=="/UpdateContactDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data6").innerHTML = data1.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data62").innerHTML = data1.toLocaleString()};
    if(url1=="/UpdateBankDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data8").innerHTML = data1.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data82").innerHTML = data1.toLocaleString()};

    if(url2=="/UpdateAddress.aspx")
      {document.getElementById("cpgoals-thismonth-data7").innerHTML = data2.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data72").innerHTML = data2.toLocaleString()};
    if(url2=="/UpdateContactDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data6").innerHTML = data2.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data62").innerHTML = data2.toLocaleString()};
    if(url2=="/UpdateBankDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data8").innerHTML = data2.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data82").innerHTML = data2.toLocaleString()};

    if(url3=="/UpdateAddress.aspx")
      {document.getElementById("cpgoals-thismonth-data7").innerHTML = data3.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data72").innerHTML = data3.toLocaleString()};
    if(url3=="/UpdateContactDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data6").innerHTML = data3.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data62").innerHTML = data3.toLocaleString()};
    if(url3=="/UpdateBankDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data8").innerHTML = data3.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data82").innerHTML = data3.toLocaleString()};

    if(url4=="/UpdateAddress.aspx")
      {document.getElementById("cpgoals-thismonth-data7").innerHTML = data4.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data72").innerHTML = data4.toLocaleString()};
    if(url4=="/UpdateContactDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data6").innerHTML = data4.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data62").innerHTML = data4.toLocaleString()};
    if(url4=="/UpdateBankDetails.aspx")
      {document.getElementById("cpgoals-thismonth-data8").innerHTML = data4.toLocaleString(),
      document.getElementById("cpgoals-thismonth-data82").innerHTML = data4.toLocaleString()};


      CustVisits18Call();

    }
}

xmlhttp.send();
}



function CustVisits18Call() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/custvisits-18month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "</td><td>";
    var chars = url.length;
    var custyeardata = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 46).join(url).length+chars).substr(0, visits.substring(visits.split(url, 46).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 58).join(url).length+chars).substr(0, visits.substring(visits.split(url, 58).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 62).join(url).length+chars).substr(0, visits.substring(visits.split(url, 62).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 66).join(url).length+chars).substr(0, visits.substring(visits.split(url, 66).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 70).join(url).length+chars).substr(0, visits.substring(visits.split(url, 70).join(url).length+chars).indexOf('</td>'));

    if(custyeardata.substring(custyeardata.length-1,custyeardata.length)==","){var custyeardata=custyeardata.substring(0,custyeardata.length-1)};
    if(custyeardata.substring(custyeardata.length-1,custyeardata.length)==","){var custyeardata=custyeardata.substring(0,custyeardata.length-1)};

    var custsearchdata = visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 56).join(url).length+chars).substr(0, visits.substring(visits.split(url, 56).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 60).join(url).length+chars).substr(0, visits.substring(visits.split(url, 60).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 64).join(url).length+chars).substr(0, visits.substring(visits.split(url, 64).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 68).join(url).length+chars).substr(0, visits.substring(visits.split(url, 68).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 72).join(url).length+chars).substr(0, visits.substring(visits.split(url, 72).join(url).length+chars).indexOf('</td>'));

    if(custsearchdata.substring(custsearchdata.length-1,custsearchdata.length)==","){var custsearchdata=custsearchdata.substring(0,custsearchdata.length-1)};
    if(custsearchdata.substring(custsearchdata.length-1,custsearchdata.length)==","){var custsearchdata=custsearchdata.substring(0,custsearchdata.length-1)};

    //if(custyeardata.substring(custyeardata.length-1,custyeardata.length)==","){var chris = "may"; var custyeardata="0,"+custyeardata.substring(0,custyeardata.length-1)};
    //if(custyeardata.substring(custyeardata.length-1,custyeardata.length)==","){var chris = "april"; var custyeardata="0,"+custyeardata.substring(0,custyeardata.length-1)};

    var url = "<tr><td>";
    var chars = url.length;
    var custyeardates1 = visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'));
    var custyeardates2 = visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'));
    var custyeardates3 = visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'));
    var custyeardates4 = visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'));
    var custyeardates5 = visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'));
    var custyeardates6 = visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'));
    var custyeardates7 = visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'));
    var custyeardates8 = visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'));
    var custyeardates9 = visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));
    var custyeardates10 = visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'));
    var custyeardates11 = visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'));        
    var custyeardates12 = visits.substring(visits.split(url, 24).join(url).length+chars).substr(0, visits.substring(visits.split(url, 24).join(url).length+chars).indexOf('</td>'));
    var custyeardates13 = visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'));
    var custyeardates14 = visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'));
    var custyeardates15 = visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'));
    var custyeardates16 = visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'));
    var custyeardates17 = visits.substring(visits.split(url, 34).join(url).length+chars).substr(0, visits.substring(visits.split(url, 34).join(url).length+chars).indexOf('</td>'));
    var custyeardates18 = visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'));

    const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun","Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

    document.getElementById("custyeardata").innerHTML = custyeardata;
    document.getElementById("custsearchdata").innerHTML = custsearchdata;

    document.getElementById("18date1").innerHTML = monthNames[custyeardates1.substring(0,2)-1]+"-"+custyeardates1.substring(5,7);
    document.getElementById("18date2").innerHTML = monthNames[custyeardates2.substring(0,2)-1]+"-"+custyeardates2.substring(5,7);
    document.getElementById("18date3").innerHTML = monthNames[custyeardates3.substring(0,2)-1]+"-"+custyeardates3.substring(5,7);
    document.getElementById("18date4").innerHTML = monthNames[custyeardates4.substring(0,2)-1]+"-"+custyeardates4.substring(5,7);
    document.getElementById("18date5").innerHTML = monthNames[custyeardates5.substring(0,2)-1]+"-"+custyeardates5.substring(5,7);
    document.getElementById("18date6").innerHTML = monthNames[custyeardates6.substring(0,2)-1]+"-"+custyeardates6.substring(5,7);
    document.getElementById("18date7").innerHTML = monthNames[custyeardates7.substring(0,2)-1]+"-"+custyeardates7.substring(5,7);
    document.getElementById("18date8").innerHTML = monthNames[custyeardates8.substring(0,2)-1]+"-"+custyeardates8.substring(5,7);
    document.getElementById("18date9").innerHTML = monthNames[custyeardates9.substring(0,2)-1]+"-"+custyeardates9.substring(5,7);
    document.getElementById("18date10").innerHTML = monthNames[custyeardates10.substring(0,2)-1]+"-"+custyeardates10.substring(5,7);
    document.getElementById("18date11").innerHTML = monthNames[custyeardates11.substring(0,2)-1]+"-"+custyeardates11.substring(5,7);
    document.getElementById("18date12").innerHTML = monthNames[custyeardates12.substring(0,2)-1]+"-"+custyeardates12.substring(5,7);
    document.getElementById("18date13").innerHTML = monthNames[custyeardates13.substring(0,2)-1]+"-"+custyeardates13.substring(5,7);
    document.getElementById("18date14").innerHTML = monthNames[custyeardates14.substring(0,2)-1]+"-"+custyeardates14.substring(5,7);
    document.getElementById("18date15").innerHTML = monthNames[custyeardates15.substring(0,2)-1]+"-"+custyeardates15.substring(5,7);
    document.getElementById("18date16").innerHTML = monthNames[custyeardates16.substring(0,2)-1]+"-"+custyeardates16.substring(5,7);
    document.getElementById("18date17").innerHTML = monthNames[custyeardates17.substring(0,2)-1]+"-"+custyeardates17.substring(5,7);
    document.getElementById("18date18").innerHTML = monthNames[custyeardates18.substring(0,2)-1]+"-"+custyeardates18.substring(5,7);

    //console.log(visits);  
    //console.log("todaydata - "+custyeardata);
 
    Cust18Container();
    Cust18ContainerHide();

    Devices18Call();

    }
}

xmlhttp.send();
}



function Cust18Container(){

Highcharts.chart('Cust18Container', {
    chart: {
        type: 'area'
    },
    credits: false,
    title: {
        text: 'Visits to Blackhorse.co.uk - last 18 months',
        style: {
            fontWeight: 'bold',
            fontFamily: 'Calibri',
            fontSize: '35px'
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
            legend: {
          borderRadius:0,
            backgroundColor: '#FFFFFF',
            itemMarginBottom: 7,
            layout: 'vertical',
            align: 'blahblah', //dunno why but removing this defaults it to top, crap value overlays it
            verticalAlign: 'top',                
            y: 100,
            x: 130,
            borderWidth: 0,
            width:300,
            symbolPadding: 10,
            useHTML:true,
            shadow: {
              color: '#000',
              width: 3,
              opacity: 0.15,
              offsetY: 2,
              offsetX: 1
            },
            labelFormatter: function() {
              return '<div class="' + this.name + '-arrow"></div><span style="font-family: \'Advent Pro\', sans-serif; font-size:20px">' + this.name;
        }

        },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],

        crosshair: true,
                labels: {
            style: {
                fontSize: '16px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false
        },
        area: {
            marker: {
                enabled: false,
            }
        }
    },



    series: [
    {
      name: 'Total Visits',
      data: JSON.parse("[" + document.getElementById("custyeardata").innerHTML + "]"),
    },
    {
      name: 'Visits from Search Engines',
      data: JSON.parse("[" + document.getElementById("custsearchdata").innerHTML + "]"),
    }
    ]

})};


function Cust18ContainerHide(){

Highcharts.chart('Cust18ContainerHide', {
    chart: {
        type: 'area'
    },
    credits: false,
    exporting: { enabled: false },
    title: {
        text: 'Visits to Blackhorse.co.uk',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
            legend: {
            enabled: false,
          borderRadius:0,
            backgroundColor: '#FFFFFF',
            itemMarginBottom: 7,
            layout: 'vertical',
            align: 'blahblah', //dunno why but removing this defaults it to top, crap value overlays it
            verticalAlign: 'top',                
            y: 130,
            x: 100,
            borderWidth: 0,
            width:210,
            symbolPadding: 10,
            useHTML:true,
            shadow: {
              color: '#000',
              width: 3,
              opacity: 0.15,
              offsetY: 2,
              offsetX: 1
            },
            labelFormatter: function() {
              return '<div class="' + this.name + '-arrow"></div><span style="font-family: \'Advent Pro\', sans-serif; font-size:20px">' + this.name;
        }

        },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],

        crosshair: true,
                labels: {
            style: {
                fontSize: '0'
            }
        }
    },
    yAxis: {
        min: 0,
        endOnTick: false,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '0'
            }
        },
                labels: {
            style: {
                fontSize: '0'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false,
        },
        area: {
            marker: {
                enabled: false,
            }
        }
    },



    series: [
    {
      name: 'Total Visits',
      data: JSON.parse("[" + document.getElementById("custyeardata").innerHTML + "]"),
    },
    {
      name: 'Visit from Search Engines',
      data: JSON.parse("[" + document.getElementById("custsearchdata").innerHTML + "]"),
    }
    ]

})};



function Devices18Call() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/devices-18months?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;

    var url = "Desktop";
    var chars = url.length+9;
    var desktopdata = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));

    if(desktopdata.substring(desktopdata.length-1,desktopdata.length)==","){var desktopdata=desktopdata.substring(0,desktopdata.length-1)};
    if(desktopdata.substring(desktopdata.length-1,desktopdata.length)==","){var desktopdata=desktopdata.substring(0,desktopdata.length-1)};

    var url = "Tablet";
    var chars = url.length+9;
    var tabletdata = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));

    if(tabletdata.substring(tabletdata.length-1,tabletdata.length)==","){var tabletdata=tabletdata.substring(0,tabletdata.length-1)};
    if(tabletdata.substring(tabletdata.length-1,tabletdata.length)==","){var tabletdata=tabletdata.substring(0,tabletdata.length-1)};

    var url = "Mobile Phone";
    var chars = url.length+9;
    var mobiledata = visits.substring(visits.split(url, 1).join(url).length+chars).substr(0, visits.substring(visits.split(url, 1).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 2).join(url).length+chars).substr(0, visits.substring(visits.split(url, 2).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 12).join(url).length+chars).substr(0, visits.substring(visits.split(url, 12).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 13).join(url).length+chars).substr(0, visits.substring(visits.split(url, 13).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'));

    if(mobiledata.substring(mobiledata.length-1,mobiledata.length)==","){var mobiledata=mobiledata.substring(0,mobiledata.length-1)};
    if(mobiledata.substring(mobiledata.length-1,mobiledata.length)==","){var mobiledata=mobiledata.substring(0,mobiledata.length-1)};

    document.getElementById("desktopdata").innerHTML = desktopdata;
    document.getElementById("tabletdata").innerHTML = tabletdata;
    document.getElementById("mobiledata").innerHTML = mobiledata;


    //console.log(visits);  
    //console.log("deaktop - "+desktopdata);
    //console.log("tablet - "+tabletdata);
    //console.log("mobile - "+mobiledata);
 
    Devices18Container();
    Devices18ContainerHide();

    WSS18Call();
    }
}

xmlhttp.send();
}



function Devices18Container(){

Highcharts.chart('Devices18Container', {
    chart: {
        type: 'areaspline'
    },
    credits: false,
    title: {
        text: 'Device Usage on Blackhorse.co.uk - last 18 months',
        style: {
            fontWeight: 'bold',
            fontFamily: 'Calibri',
            fontSize: '35px'
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],
        labels: {
        style: {
            fontFamily: 'Calibri',
            fontSize: '20px'
        },
        },
        itemStyle: {
            fontSize: '30px'
        },
        tickmarkPlacement: 'on',
        title: {
            enabled: false
        }
    },
    yAxis: {
        title: {
        text: 'Percent',
        style: {
            fontWeight: 'bold',
            fontFamily: 'Calibri',
            fontSize: '30px'
        },
        },
        labels: {
        style: {
            fontFamily: 'Calibri',
            fontSize: '20px'
        },
        },

    },
    legend: {
        itemStyle: {
            fontSize: '20px'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b>',
        split: true
    },
    plotOptions: {
        series: {
            animation: false,
        },
        areaspline: {
            stacking: 'percent',
            lineColor: '#ffffff',
            lineWidth: 1,
            marker: {
                enabled: false,
                lineWidth: 1,
                lineColor: '#ffffff'
            }
        }
    },
    series: [
    {
      name: 'Computer',
      data: JSON.parse("[" + document.getElementById("desktopdata").innerHTML + "]"),
    },
    {
      name: 'Tablet',
      data: JSON.parse("[" + document.getElementById("tabletdata").innerHTML + "]"),
    },
    {
      name: 'Mobile',
      data: JSON.parse("[" + document.getElementById("mobiledata").innerHTML + "]"),
    }
    ]

})};


function Devices18ContainerHide(){

Highcharts.chart('Devices18ContainerHide', {
    chart: {
        type: 'areaspline'
    },
    credits: false,
    exporting: { enabled: false },
    title: {
        text: 'Device Usage on BlackHorse',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    subtitle: {
        //text: 'Source: WorldClimate.com'
    },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],
        labels: {
        style: {
            fontFamily: 'Calibri',
            fontSize: '0'
        },
        },
        itemStyle: {
            fontSize: '0'
        },
        tickmarkPlacement: 'on',
        title: {
            enabled: false
        }
    },
    yAxis: {
        title: {
        text: 'Percent',
        style: {
            fontWeight: 'bold',
            fontFamily: 'Calibri',
            fontSize: '0'
        },
        },
        labels: {
        style: {
            fontFamily: 'Calibri',
            fontSize: '0'
        },
        },

    },
    legend: {
        enabled: false,
        itemStyle: {
            fontSize: '2px'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b>',
        split: true
    },
    plotOptions: {
        series: {
            animation: false,
        },
        areaspline: {
            stacking: 'percent',
            lineColor: '#ffffff',
            lineWidth: 1,
            marker: {
                enabled: false,
                lineWidth: 1,
                lineColor: '#ffffff'
            }
        }
    },
    series: [
    {
      name: 'Computer',
      data: JSON.parse("[" + document.getElementById("desktopdata").innerHTML + "]"),
    },
    {
      name: 'Tablet',
      data: JSON.parse("[" + document.getElementById("tabletdata").innerHTML + "]"),
    },
    {
      name: 'Mobile',
      data: JSON.parse("[" + document.getElementById("mobiledata").innerHTML + "]"),
    }
    ]

})};



function WSS18Call() {

xmlhttp = new XMLHttpRequest();
var url = "https://bnnq37uk24.execute-api.eu-west-1.amazonaws.com/Prod/wss-18month?chris15awesome=yes";
xmlhttp.open("GET", url, true);
xmlhttp.setRequestHeader("Content-type", "application/json");
xmlhttp.onreadystatechange = function () {
    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {


    var visits =xmlhttp.responseText;
    var visits = visits.replace(/&nbsp;/g, "0"); 

    console.log(visits);

    var url = "<td>";
    var chars = url.length
    var cpdata = 
                visits.substring(visits.split(url, 3).join(url).length+chars).substr(0, visits.substring(visits.split(url, 3).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 14).join(url).length+chars).substr(0, visits.substring(visits.split(url, 14).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 25).join(url).length+chars).substr(0, visits.substring(visits.split(url, 25).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 36).join(url).length+chars).substr(0, visits.substring(visits.split(url, 36).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 47).join(url).length+chars).substr(0, visits.substring(visits.split(url, 47).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 58).join(url).length+chars).substr(0, visits.substring(visits.split(url, 58).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 69).join(url).length+chars).substr(0, visits.substring(visits.split(url, 69).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 80).join(url).length+chars).substr(0, visits.substring(visits.split(url, 80).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 91).join(url).length+chars).substr(0, visits.substring(visits.split(url, 91).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 102).join(url).length+chars).substr(0, visits.substring(visits.split(url, 102).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 113).join(url).length+chars).substr(0, visits.substring(visits.split(url, 113).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 124).join(url).length+chars).substr(0, visits.substring(visits.split(url, 124).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 135).join(url).length+chars).substr(0, visits.substring(visits.split(url, 135).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 146).join(url).length+chars).substr(0, visits.substring(visits.split(url, 146).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 157).join(url).length+chars).substr(0, visits.substring(visits.split(url, 157).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 168).join(url).length+chars).substr(0, visits.substring(visits.split(url, 168).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 179).join(url).length+chars).substr(0, visits.substring(visits.split(url, 179).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 190).join(url).length+chars).substr(0, visits.substring(visits.split(url, 190).join(url).length+chars).indexOf('</td>'));
    if(cpdata.substring(cpdata.length-1,cpdata.length)==","){var cpdata=cpdata.substring(0,cpdata.length-1)};
    if(cpdata.substring(cpdata.length-1,cpdata.length)==","){var cpdata=cpdata.substring(0,cpdata.length-1)};
    console.log("cpdata - "+cpdata);

    var url = "<td>";
    var chars = url.length
    var lloydsdata = 
                visits.substring(visits.split(url, 4).join(url).length+chars).substr(0, visits.substring(visits.split(url, 4).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 15).join(url).length+chars).substr(0, visits.substring(visits.split(url, 15).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 26).join(url).length+chars).substr(0, visits.substring(visits.split(url, 26).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 37).join(url).length+chars).substr(0, visits.substring(visits.split(url, 37).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 48).join(url).length+chars).substr(0, visits.substring(visits.split(url, 48).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 59).join(url).length+chars).substr(0, visits.substring(visits.split(url, 59).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 70).join(url).length+chars).substr(0, visits.substring(visits.split(url, 70).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 81).join(url).length+chars).substr(0, visits.substring(visits.split(url, 81).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 92).join(url).length+chars).substr(0, visits.substring(visits.split(url, 92).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 103).join(url).length+chars).substr(0, visits.substring(visits.split(url, 103).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 114).join(url).length+chars).substr(0, visits.substring(visits.split(url, 114).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 125).join(url).length+chars).substr(0, visits.substring(visits.split(url, 125).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 136).join(url).length+chars).substr(0, visits.substring(visits.split(url, 136).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 147).join(url).length+chars).substr(0, visits.substring(visits.split(url, 147).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 158).join(url).length+chars).substr(0, visits.substring(visits.split(url, 158).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 169).join(url).length+chars).substr(0, visits.substring(visits.split(url, 169).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 180).join(url).length+chars).substr(0, visits.substring(visits.split(url, 180).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 191).join(url).length+chars).substr(0, visits.substring(visits.split(url, 191).join(url).length+chars).indexOf('</td>'));
    if(lloydsdata.substring(lloydsdata.length-1,lloydsdata.length)==","){var lloydsdata=lloydsdata.substring(0,lloydsdata.length-1)};
    if(lloydsdata.substring(lloydsdata.length-1,lloydsdata.length)==","){var lloydsdata=lloydsdata.substring(0,lloydsdata.length-1)};
    console.log("lloyds - "+lloydsdata);

    var url = "<td>";
    var chars = url.length
    var halifaxdata = 
                visits.substring(visits.split(url, 5).join(url).length+chars).substr(0, visits.substring(visits.split(url, 5).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 16).join(url).length+chars).substr(0, visits.substring(visits.split(url, 16).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 27).join(url).length+chars).substr(0, visits.substring(visits.split(url, 27).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 38).join(url).length+chars).substr(0, visits.substring(visits.split(url, 38).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 49).join(url).length+chars).substr(0, visits.substring(visits.split(url, 49).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 60).join(url).length+chars).substr(0, visits.substring(visits.split(url, 60).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 71).join(url).length+chars).substr(0, visits.substring(visits.split(url, 71).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 82).join(url).length+chars).substr(0, visits.substring(visits.split(url, 82).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 93).join(url).length+chars).substr(0, visits.substring(visits.split(url, 93).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 104).join(url).length+chars).substr(0, visits.substring(visits.split(url, 104).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 115).join(url).length+chars).substr(0, visits.substring(visits.split(url, 115).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 126).join(url).length+chars).substr(0, visits.substring(visits.split(url, 126).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 137).join(url).length+chars).substr(0, visits.substring(visits.split(url, 137).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 148).join(url).length+chars).substr(0, visits.substring(visits.split(url, 148).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 159).join(url).length+chars).substr(0, visits.substring(visits.split(url, 159).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 170).join(url).length+chars).substr(0, visits.substring(visits.split(url, 170).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 181).join(url).length+chars).substr(0, visits.substring(visits.split(url, 181).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 192).join(url).length+chars).substr(0, visits.substring(visits.split(url, 192).join(url).length+chars).indexOf('</td>'));
    if(halifaxdata.substring(halifaxdata.length-1,halifaxdata.length)==","){var halifaxdata=halifaxdata.substring(0,halifaxdata.length-1)};
    if(halifaxdata.substring(halifaxdata.length-1,halifaxdata.length)==","){var halifaxdata=halifaxdata.substring(0,halifaxdata.length-1)};
    console.log("halifax - "+halifaxdata);

    var url = "<td>";
    var chars = url.length
    var bosdata = 
                visits.substring(visits.split(url, 6).join(url).length+chars).substr(0, visits.substring(visits.split(url, 6).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 17).join(url).length+chars).substr(0, visits.substring(visits.split(url, 17).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 28).join(url).length+chars).substr(0, visits.substring(visits.split(url, 28).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 39).join(url).length+chars).substr(0, visits.substring(visits.split(url, 39).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 50).join(url).length+chars).substr(0, visits.substring(visits.split(url, 50).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 61).join(url).length+chars).substr(0, visits.substring(visits.split(url, 61).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 72).join(url).length+chars).substr(0, visits.substring(visits.split(url, 72).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 83).join(url).length+chars).substr(0, visits.substring(visits.split(url, 83).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 94).join(url).length+chars).substr(0, visits.substring(visits.split(url, 94).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 105).join(url).length+chars).substr(0, visits.substring(visits.split(url, 105).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 116).join(url).length+chars).substr(0, visits.substring(visits.split(url, 116).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 127).join(url).length+chars).substr(0, visits.substring(visits.split(url, 127).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 138).join(url).length+chars).substr(0, visits.substring(visits.split(url, 138).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 149).join(url).length+chars).substr(0, visits.substring(visits.split(url, 149).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 160).join(url).length+chars).substr(0, visits.substring(visits.split(url, 160).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 171).join(url).length+chars).substr(0, visits.substring(visits.split(url, 171).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 182).join(url).length+chars).substr(0, visits.substring(visits.split(url, 182).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 193).join(url).length+chars).substr(0, visits.substring(visits.split(url, 193).join(url).length+chars).indexOf('</td>'));
    if(bosdata.substring(bosdata.length-1,bosdata.length)==","){var bosdata=bosdata.substring(0,bosdata.length-1)};
    if(bosdata.substring(bosdata.length-1,bosdata.length)==","){var bosdata=bosdata.substring(0,bosdata.length-1)};
    console.log("bos - "+bosdata);

    var url = "<td>";
    var chars = url.length
    var jaguardata = 
                visits.substring(visits.split(url, 7).join(url).length+chars).substr(0, visits.substring(visits.split(url, 7).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 18).join(url).length+chars).substr(0, visits.substring(visits.split(url, 18).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 29).join(url).length+chars).substr(0, visits.substring(visits.split(url, 29).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 40).join(url).length+chars).substr(0, visits.substring(visits.split(url, 40).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 51).join(url).length+chars).substr(0, visits.substring(visits.split(url, 51).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 62).join(url).length+chars).substr(0, visits.substring(visits.split(url, 62).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 73).join(url).length+chars).substr(0, visits.substring(visits.split(url, 73).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 84).join(url).length+chars).substr(0, visits.substring(visits.split(url, 84).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 95).join(url).length+chars).substr(0, visits.substring(visits.split(url, 95).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 106).join(url).length+chars).substr(0, visits.substring(visits.split(url, 106).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 117).join(url).length+chars).substr(0, visits.substring(visits.split(url, 117).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 128).join(url).length+chars).substr(0, visits.substring(visits.split(url, 128).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 139).join(url).length+chars).substr(0, visits.substring(visits.split(url, 139).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 150).join(url).length+chars).substr(0, visits.substring(visits.split(url, 150).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 161).join(url).length+chars).substr(0, visits.substring(visits.split(url, 161).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 172).join(url).length+chars).substr(0, visits.substring(visits.split(url, 172).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 183).join(url).length+chars).substr(0, visits.substring(visits.split(url, 183).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 194).join(url).length+chars).substr(0, visits.substring(visits.split(url, 194).join(url).length+chars).indexOf('</td>'));
    if(jaguardata.substring(jaguardata.length-1,jaguardata.length)==","){var jaguardata=jaguardata.substring(0,jaguardata.length-1)};
    if(jaguardata.substring(jaguardata.length-1,jaguardata.length)==","){var jaguardata=jaguardata.substring(0,jaguardata.length-1)};
    console.log("jaguar - "+jaguardata);

    var url = "<td>";
    var chars = url.length
    var landroverdata = 
                visits.substring(visits.split(url, 8).join(url).length+chars).substr(0, visits.substring(visits.split(url, 8).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 19).join(url).length+chars).substr(0, visits.substring(visits.split(url, 19).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 30).join(url).length+chars).substr(0, visits.substring(visits.split(url, 30).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 41).join(url).length+chars).substr(0, visits.substring(visits.split(url, 41).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 52).join(url).length+chars).substr(0, visits.substring(visits.split(url, 52).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 63).join(url).length+chars).substr(0, visits.substring(visits.split(url, 63).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 74).join(url).length+chars).substr(0, visits.substring(visits.split(url, 74).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 85).join(url).length+chars).substr(0, visits.substring(visits.split(url, 85).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 96).join(url).length+chars).substr(0, visits.substring(visits.split(url, 96).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 107).join(url).length+chars).substr(0, visits.substring(visits.split(url, 107).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 118).join(url).length+chars).substr(0, visits.substring(visits.split(url, 118).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 129).join(url).length+chars).substr(0, visits.substring(visits.split(url, 129).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 140).join(url).length+chars).substr(0, visits.substring(visits.split(url, 140).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 151).join(url).length+chars).substr(0, visits.substring(visits.split(url, 151).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 162).join(url).length+chars).substr(0, visits.substring(visits.split(url, 162).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 173).join(url).length+chars).substr(0, visits.substring(visits.split(url, 173).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 184).join(url).length+chars).substr(0, visits.substring(visits.split(url, 184).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 195).join(url).length+chars).substr(0, visits.substring(visits.split(url, 195).join(url).length+chars).indexOf('</td>'));
    if(landroverdata.substring(landroverdata.length-1,landroverdata.length)==","){var landroverdata=landroverdata.substring(0,landroverdata.length-1)};
    if(landroverdata.substring(landroverdata.length-1,landroverdata.length)==","){var landroverdata=landroverdata.substring(0,landroverdata.length-1)};
    console.log("landrover - "+landroverdata);

    var url = "<td>";
    var chars = url.length
    var suzukidata = 
                visits.substring(visits.split(url, 9).join(url).length+chars).substr(0, visits.substring(visits.split(url, 9).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 20).join(url).length+chars).substr(0, visits.substring(visits.split(url, 20).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 31).join(url).length+chars).substr(0, visits.substring(visits.split(url, 31).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 42).join(url).length+chars).substr(0, visits.substring(visits.split(url, 42).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 53).join(url).length+chars).substr(0, visits.substring(visits.split(url, 53).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 64).join(url).length+chars).substr(0, visits.substring(visits.split(url, 64).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 75).join(url).length+chars).substr(0, visits.substring(visits.split(url, 75).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 86).join(url).length+chars).substr(0, visits.substring(visits.split(url, 86).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 97).join(url).length+chars).substr(0, visits.substring(visits.split(url, 97).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 108).join(url).length+chars).substr(0, visits.substring(visits.split(url, 108).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 119).join(url).length+chars).substr(0, visits.substring(visits.split(url, 119).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 130).join(url).length+chars).substr(0, visits.substring(visits.split(url, 130).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 141).join(url).length+chars).substr(0, visits.substring(visits.split(url, 141).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 152).join(url).length+chars).substr(0, visits.substring(visits.split(url, 152).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 163).join(url).length+chars).substr(0, visits.substring(visits.split(url, 163).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 174).join(url).length+chars).substr(0, visits.substring(visits.split(url, 174).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 185).join(url).length+chars).substr(0, visits.substring(visits.split(url, 185).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 196).join(url).length+chars).substr(0, visits.substring(visits.split(url, 196).join(url).length+chars).indexOf('</td>'));
    if(suzukidata.substring(suzukidata.length-1,suzukidata.length)==","){var suzukidata=suzukidata.substring(0,suzukidata.length-1)};
    if(suzukidata.substring(suzukidata.length-1,suzukidata.length)==","){var suzukidata=suzukidata.substring(0,suzukidata.length-1)};
    console.log("suzuki - "+suzukidata);

    var url = "<td>";
    var chars = url.length
    var mitsubishidata = 
                visits.substring(visits.split(url, 10).join(url).length+chars).substr(0, visits.substring(visits.split(url, 10).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 21).join(url).length+chars).substr(0, visits.substring(visits.split(url, 21).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 32).join(url).length+chars).substr(0, visits.substring(visits.split(url, 32).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 43).join(url).length+chars).substr(0, visits.substring(visits.split(url, 43).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 54).join(url).length+chars).substr(0, visits.substring(visits.split(url, 54).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 65).join(url).length+chars).substr(0, visits.substring(visits.split(url, 65).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 76).join(url).length+chars).substr(0, visits.substring(visits.split(url, 76).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 87).join(url).length+chars).substr(0, visits.substring(visits.split(url, 87).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 98).join(url).length+chars).substr(0, visits.substring(visits.split(url, 98).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 109).join(url).length+chars).substr(0, visits.substring(visits.split(url, 109).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 120).join(url).length+chars).substr(0, visits.substring(visits.split(url, 120).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 131).join(url).length+chars).substr(0, visits.substring(visits.split(url, 131).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 142).join(url).length+chars).substr(0, visits.substring(visits.split(url, 142).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 153).join(url).length+chars).substr(0, visits.substring(visits.split(url, 153).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 164).join(url).length+chars).substr(0, visits.substring(visits.split(url, 164).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 175).join(url).length+chars).substr(0, visits.substring(visits.split(url, 175).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 186).join(url).length+chars).substr(0, visits.substring(visits.split(url, 186).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 197).join(url).length+chars).substr(0, visits.substring(visits.split(url, 197).join(url).length+chars).indexOf('</td>'));
    if(mitsubishidata.substring(mitsubishidata.length-1,mitsubishidata.length)==","){var mitsubishidata=mitsubishidata.substring(0,mitsubishidata.length-1)};
    if(mitsubishidata.substring(mitsubishidata.length-1,mitsubishidata.length)==","){var mitsubishidata=mitsubishidata.substring(0,mitsubishidata.length-1)};
    console.log("misubishi - "+mitsubishidata);

    var url = "<td>";
    var chars = url.length
    var imfdata = 
                visits.substring(visits.split(url, 11).join(url).length+chars).substr(0, visits.substring(visits.split(url, 11).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 22).join(url).length+chars).substr(0, visits.substring(visits.split(url, 22).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 33).join(url).length+chars).substr(0, visits.substring(visits.split(url, 33).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 44).join(url).length+chars).substr(0, visits.substring(visits.split(url, 44).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 55).join(url).length+chars).substr(0, visits.substring(visits.split(url, 55).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 66).join(url).length+chars).substr(0, visits.substring(visits.split(url, 66).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 77).join(url).length+chars).substr(0, visits.substring(visits.split(url, 77).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 88).join(url).length+chars).substr(0, visits.substring(visits.split(url, 88).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 99).join(url).length+chars).substr(0, visits.substring(visits.split(url, 99).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 110).join(url).length+chars).substr(0, visits.substring(visits.split(url, 110).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 121).join(url).length+chars).substr(0, visits.substring(visits.split(url, 121).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 132).join(url).length+chars).substr(0, visits.substring(visits.split(url, 132).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 143).join(url).length+chars).substr(0, visits.substring(visits.split(url, 143).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 154).join(url).length+chars).substr(0, visits.substring(visits.split(url, 154).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 165).join(url).length+chars).substr(0, visits.substring(visits.split(url, 165).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 176).join(url).length+chars).substr(0, visits.substring(visits.split(url, 176).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 187).join(url).length+chars).substr(0, visits.substring(visits.split(url, 187).join(url).length+chars).indexOf('</td>'))+","+
                visits.substring(visits.split(url, 198).join(url).length+chars).substr(0, visits.substring(visits.split(url, 198).join(url).length+chars).indexOf('</td>'));
    if(imfdata.substring(imfdata.length-1,imfdata.length)==","){var imfdata=imfdata.substring(0,imfdata.length-1)};
    if(imfdata.substring(imfdata.length-1,imfdata.length)==","){var imfdata=imfdata.substring(0,imfdata.length-1)};
    console.log("imf - "+imfdata);

  document.getElementById("cp18month").innerHTML = cpdata;
    document.getElementById("lloyds18month").innerHTML = lloydsdata;
    document.getElementById("halifax18month").innerHTML = halifaxdata;
    document.getElementById("bos18month").innerHTML = bosdata;
    document.getElementById("suzuki18month").innerHTML = suzukidata;
    document.getElementById("mitsubishi18month").innerHTML = mitsubishidata;
    document.getElementById("landrover18month").innerHTML = landroverdata;
    document.getElementById("jaguar18month").innerHTML = jaguardata;
    document.getElementById("imf18month").innerHTML = imfdata;

    WSS18Container();
    WSS18ContainerHide();
    }
}

xmlhttp.send();
}


function WSS18Container(){

Highcharts.chart('WSS18Container', {
    chart: {
        type: 'line'
    },
    credits: false,
    title: {
        text: 'OCF and JV usage - Last 18 months',
        style: {
            fontFamily: 'Calibri',
            fontWeight: 'bold',
            fontSize: '35px'
        }
    },
    legend: {
        itemStyle: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],

        crosshair: true,
                labels: {
            style: {
                fontFamily: 'Calibri',
                fontSize: '15px'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontFamily: 'Calibri',
                fontWeight: 'bold',
                fontSize: '20px'
            }
        },
                labels: {
            style: {
                fontFamily: 'Calibri',
                fontSize: '15px'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false,
            lineWidth: 5,
                marker: {
                    enabled: false
            }
        }
    },



    series: [//{
       // name: 'Black Horse',
       // data: JSON.parse("[" + document.getElementById("cp18month").innerHTML + "]"),  //this is the data formatted into an array which highcharts accepts, mimic again for another series
    //},
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("lloyds18month").innerHTML + "]"),
        color: '#c4c4c4'
    },
    {
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("halifax18month").innerHTML + "]"),
        //color: '#0033cc'
    },
    {
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("bos18month").innerHTML + "]"),
        //color: '#000050'
    },
    {
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("jaguar18month").innerHTML + "]"),
        //color: '#9e1b32'
    },
    {
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("landrover18month").innerHTML + "]"),
        //color: '#9e1b32'
    },
    {
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("suzuki18month").innerHTML + "]"),
        //color: '#003145'
    },
    {
        name: 'Mistubishi',
        data: JSON.parse("[" + document.getElementById("mitsubishi18month").innerHTML + "]"),
        //color: '#c5c5c5'
    },
    {
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("imf18month").innerHTML + "]"),
        //color: '#f49d38'
    }
    ]

})};


function WSS18ContainerHide(){

Highcharts.chart('WSS18ContainerHide', {
    chart: {
        type: 'line'
    },
    credits: false,
    exporting: { enabled: false },
    title: {
        text: 'OCF and JV usage',
        style: {
            fontFamily: 'Calibri',
            fontSize: '18px'
        }
    },
    legend: {
        enabled: false,
        itemStyle: {
            fontSize: '20px'
        }
    },
    xAxis: {
        categories: [document.getElementById("18date1").innerHTML,document.getElementById("18date2").innerHTML,document.getElementById("18date3").innerHTML
                    ,document.getElementById("18date4").innerHTML,document.getElementById("18date4").innerHTML,document.getElementById("18date5").innerHTML
                    ,document.getElementById("18date7").innerHTML,document.getElementById("18date8").innerHTML,document.getElementById("18date9").innerHTML
                    ,document.getElementById("18date10").innerHTML,document.getElementById("18date11").innerHTML,document.getElementById("18date12").innerHTML
                    ,document.getElementById("18date13").innerHTML,document.getElementById("18date14").innerHTML,document.getElementById("18date15").innerHTML
                    ,document.getElementById("18date16").innerHTML,document.getElementById("18date17").innerHTML,document.getElementById("18date18").innerHTML],

        crosshair: false,
                labels: {
            style: {
                fontSize: '0'
            }
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Visits',
            style: {
                fontWeight: 'bold',
                fontSize: '0'
            }
        },
                labels: {
            style: {
                fontSize: '0'
            }
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        series: {
            animation: false,
            lineWidth: 2,
                marker: {
                    enabled: false
            }
        }
    },



    series: [//{
       // name: 'Black Horse',
       // data: JSON.parse("[" + document.getElementById("cp18month").innerHTML + "]"),  //this is the data formatted into an array which highcharts accepts, mimic again for another series
    //},
    {
        name: 'Lloyds Bank',
        data: JSON.parse("[" + document.getElementById("lloyds18month").innerHTML + "]"),
        color: '#c4c4c4'
    },
    {
        name: 'Halifax',
        data: JSON.parse("[" + document.getElementById("halifax18month").innerHTML + "]"),
        //color: '#0033cc'
    },
    {
        name: 'Bank of Scotland',
        data: JSON.parse("[" + document.getElementById("bos18month").innerHTML + "]"),
        //color: '#000050'
    },
    {
        name: 'Jaguar',
        data: JSON.parse("[" + document.getElementById("jaguar18month").innerHTML + "]"),
        //color: '#9e1b32'
    },
    {
        name: 'Land Rover',
        data: JSON.parse("[" + document.getElementById("landrover18month").innerHTML + "]"),
        //color: '#9e1b32'
    },
    {
        name: 'Suzuki',
        data: JSON.parse("[" + document.getElementById("suzuki18month").innerHTML + "]"),
        //color: '#003145'
    },
    {
        name: 'Mistubishi',
        data: JSON.parse("[" + document.getElementById("mitsubishi18month").innerHTML + "]"),
        //color: '#c5c5c5'
    },
    {
        name: 'IMF',
        data: JSON.parse("[" + document.getElementById("imf18month").innerHTML + "]"),
        //color: '#f49d38'
    }
    ]

})};



</script>


</html>